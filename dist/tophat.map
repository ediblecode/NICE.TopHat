{"version":3,"file":"tophat.js","sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","css","customDocument","doc","document","createStyleSheet","cssText","head","getElementsByTagName","style","createElement","type","styleSheet","appendChild","createTextNode","byUrl","url","link","rel","href",2,"getTophatConfig","config","tag","getTophatScriptTag","len","attributes","key","value","getAttribute","evidence","service","accountsDomain","accountsDomains","environment","accountsUrl","currentScript","tags","src","indexOf","local",3,"/Users/matt/Documents/branches/NICE.Tophat/node_modules/cssify",4,"tophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","internal","tophatClassname","StateControl","forElement","attachTophatEvents","attachDomEvent","proxy","clickhandler","cancelhandler","trackingHandler","ev","target","srcElement","validateTrackedElement","className","undefined","parentNode","enhance","preventDefault","category","labelEl","utils","find","action","textContent","innerText","innerHTML","label","window","location","this","sendTrackedEvent","isTrackedElement","nodeName","toLowerCase","validateTarget","mustIgnoreEvent","state","toggleEvidence","toggleProfile","toggleSearch","isValid","isTophatElement","unfocus","el","tophatEvent","cb","_gaq","push","sendGAEvent","ga","sendUAEvent","console","log","setTimeout","data","hitCallback","fn","context","event","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","./tophat.states","./tophat.utils",5,6,"generateEvidenceElement","appendElement","create","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","replace","active","links","isBeta","output","id","generateLink","join","tophatEvidenceLinks","title","beta","./tophat.evidence.html","./tophat.evidence.links","./tophat.evidence.links.html","./tophat.evidence.service.html",7,8,"search","bnf","bnfc","cks","journals",9,10,11,"generateGlobalElement","tophatGlobal","./tophat.global.html",12,"getTophatElement","classname","body","composeTophat","services","evidenceResources","globalMenu","prependElement","evidenceElement","globalElement","onTophatReady","./tophat.config.js","./tophat.css","./tophat.events","./tophat.evidence","./tophat.global","./tophat.profile","./tophat.search","./tophat.services",13,14,"generateProfileElement","profile","tophatProfileService","xhr","get","onGetProfileResult","disableProfile","display_name","generateProfile","generateAnonymous","profilenav","profileLink","setAttribute","thumbnail","menu","tophatProfile","insertBeforeElement","lastChild","remove","tophatProfileLinks","./tophat.profile.html","./tophat.profile.links.html","./tophat.profile.service.html","./tophat.xhr",15,16,17,18,"generateSearchElement","tophatSearchService","view","tophatSearch","typeaheadtype","typeaheadsource","searchElement","addSearchToGlobal","searchForm","firstChild","./tophat.search.html","./tophat.search.service.html",19,20,21,"generateServiceElement","cleanUp","serviceLinks","generateServiceBar","tophatServices","home","tophatServicesLinks","oldElement","removeChild","./tophat.services.html","./tophat.services.links","./tophat.services.links.html",22,23,"pathways","guidance","standards",24,"TophatStates","element","prototype","updateState",25,"root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","RegExp","test","html","wrapper","parent","insertBefore","sibling",26,"resolve","documentElement","script","Math","floor","random","done","onload","onreadystatechange","readyState","_na"],"mappings":"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"}