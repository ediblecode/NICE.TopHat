{"version":3,"file":"tophat.js","sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","css","customDocument","doc","document","createStyleSheet","cssText","head","getElementsByTagName","style","createElement","type","styleSheet","appendChild","createTextNode","byUrl","url","link","rel","href",2,"getTophatConfig","config","tag","getTophatScriptTag","len","attributes","key","value","getAttribute","evidence","service","accountsUrl","generateAccountsUrl","legacy","isLegacy","currentScript","tags","src","toLowerCase","indexOf","env","environment","accountsDomain","accountsDomains","navigator","appName","ua","userAgent","re","RegExp","exec","parseFloat","$1","local",3,"/Users/matt/Documents/branches/NICE.Tophat/node_modules/cssify",4,"tophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","internal","tophatClassname","StateControl","forElement","attachTophatEvents","attachDomEvent","proxy","clickhandler","cancelhandler","trackingHandler","searchHandler","ev","target","srcElement","validateTrackedElement","className","undefined","parentNode","preventDefault","category","labelEl","utils","find","action","textContent","innerText","innerHTML","label","window","location","cleanClass","this","sendTrackedEvent","isTrackedElement","nodeName","validateTarget","mustIgnoreEvent","state","toggleEvidence","toggleProfile","toggleSearch","isValid","isTophatElement","unfocus","el","tophatEvent","term","q","replace","cb","_gaq","push","sendGAEvent","ga","sendUAEvent","console","log","setTimeout","data","hitCallback","fn","event","enhance","context","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","./tophat.states","./tophat.utils",5,6,"generateEvidenceElement","appendElement","create","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","active","links","isBeta","output","id","generateLink","join","tophatEvidenceLinks","title","beta","./tophat.evidence.html","./tophat.evidence.links","./tophat.evidence.links.html","./tophat.evidence.service.html",7,8,"search","bnf","bnfc","cks","journals",9,10,11,"generateGlobalElement","tophatGlobal","./tophat.global.html",12,"getTophatElement","classname","body","composeTophat","services","evidenceResources","globalMenu","prependElement","evidenceElement","globalElement","onTophatReady","./tophat.config.js","./tophat.css","./tophat.events","./tophat.evidence","./tophat.global","./tophat.profile","./tophat.search","./tophat.services",13,14,15,"generateProfileElement","profile","tophatProfileAnon","xhr","get","tophatProfileEndpoint","display_name","generateProfile","disableProfile","anonitem","profilenav","tophatProfileService","profileLink","setAttribute","thumbnail","menu","tophatProfile","insertBeforeElement","remove","lastChild","tophatProfileLinks","./tophat.profile.anon.html","./tophat.profile.html","./tophat.profile.links.html","./tophat.profile.service.html","./tophat.xhr",16,17,18,19,"generateSearchElement","tophatSearchService","params","parseQueryStringWithRegExp","view","tophatSearch","typeaheadtype","typeaheadsource","searchElement","addSearchToGlobal","searchForm","firstChild","decodeURIComponentExtended","decodeURIComponent","extendParam","obj","name","val","existing","query","match","substring","./tophat.search.html","./tophat.search.service.html",20,21,22,"generateServiceElement","cleanUp","serviceLinks","generateServiceBar","tophatServices","home","tophatServicesLinks","oldElement","removeChild","./tophat.services.html","./tophat.services.links","./tophat.services.links.html",23,24,"pathways","guidance","standards",25,"TophatStates","element","cleanClassname","getStateFromClassname","evidenceStateClassname","profileStateClassname","searchStateClassname","prototype","updateState",26,"root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","test","html","wrapper","parent","insertBefore","sibling",27,"resolve","script","Math","floor","random","done","onload","onreadystatechange","readyState","_na"],"mappings":"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"}