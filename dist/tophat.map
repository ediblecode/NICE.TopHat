{"version":3,"sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","injectStyleTag","document","fileName","cb","style","getElementById","head","getElementsByTagName","createElement","id","appendChild","css","customDocument","doc","createStyleSheet","sheet","cssText","ownerNode","styleSheet","innerHTML","byUrl","url","link","rel","href","2","camelCaseAttribute","str","toLowerCase","replace","$1","toUpperCase","getTophatConfig","config","tag","getTophatScriptTag","len","attributes","key","value","getAttribute","evidence","service","accountsUrl","generateAccountsUrl","legacy","isLegacy","currentScript","tags","src","indexOf","env","environment","accountsDomain","accountsDomains","navigator","appName","ua","userAgent","re","RegExp","exec","parseFloat","local","3","search","label","title","bnf","bnfc","cks","journals","4","pathways","guidance","standards","5","tophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","internal","tophatClassname","StateControl","forElement","attachTophatEvents","attachDomEvent","proxy","clickhandler","cancelhandler","trackingHandler","searchHandler","ev","target","srcElement","validateTrackedElement","className","undefined","parentNode","category","labelEl","utils","find","action","textContent","innerText","window","location","cleanClass","this","preventDefault","sendTrackedEvent","isTrackedElement","nodeName","validateTarget","mustIgnoreEvent","blur","state","toggleEvidence","toggleProfile","toggleMobileMenu","isValid","isTophatElement","unfocus","el","tophatEvent","q","placeholder","term","escape","setTimeout","dataLayer","push","sendDataLayerEvent","_gaq","sendGAEvent","ga","sendUAEvent","logEventToConsole","data","event","eventCategory","eventAction","eventLabel","console","log","fn","enhance","context","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","onresize","setAriaStates","../utils/dom","./states","6","TophatStates","element","classname","cleanClassname","getStateFromClassname","evidenceBtn","mobileMenuBtn","profileBtn","evidenceStateClassname","profile","profileStateClassname","mobile","mobileStateClassname","prototype","updateState","toggleAriaAttributes","btn","isBtnActive","setAttribute","controls","split","subMenu","7","generateEvidenceElement","appendElement","create","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","active","links","isBeta","output","generateLink","join","tophatEvidenceLinks","beta","../config/evidence","../templates/evidence/links.html","../templates/evidence/menu.html","../templates/evidence/service.html","8","generateGlobalElement","tophatGlobal","../templates/global/menu.html","9","generateProfileElement","insertBeforeElement","tophatProfileAnon","xhr","get","tophatProfileEndpoint","wtrealm","display_name","generateProfile","generateAnonProfile","disableProfile","anonitem","profileLink","tophatProfileService","thumbnail","menu","tophatProfile","remove","lastChild","profilenav","tophatProfileLinks","../templates/profile/anon.html","../templates/profile/links.html","../templates/profile/menu.html","../templates/profile/service.html","../utils/xhr","10","generateSearchElement","globalElement","params","parseQueryStringWithRegExp","view","tophatSearch","typeaheadtype","typeaheadsource","searchPlaceholder","searchElement","addSearchToGlobal","searchForm","firstChild","decodeURIComponentExtended","decodeURIComponent","unescape","extendParam","obj","name","val","existing","query","match","substring","../templates/search/form.html","11","generateServiceElement","cleanUp","serviceLinks","generateServiceBar","services","tophatServices","home","tophatServicesLinks","oldElement","removeChild","../config/services","../templates/services/links.html","../templates/services/menu.html","12","13","14","15","16","17","18","19","20","21","22","23","inject","./../node_modules/cssify","24","getTophatElement","body","composeTophat","evidenceResources","globalMenu","prependElement","evidenceElement","onTophatReady","./config","./events","./evidence","./global","./profile","./search","./services","./tophat.css","./utils/dom","25","root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","test","html","wrapper","parent","insertBefore","sibling","setMobileState","bool","mobileMenu","mainMenu","mobileDropdown","mobileEvidenceMenu","setEvidenceServiceStates","clientWidth","../config","26","resolve","script","Math","floor","random","done","onload","onreadystatechange","readyState","_na","./dom"],"mappings":"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","file":"tophat.js"}