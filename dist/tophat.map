{"version":3,"file":"tophat.js","sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","css","customDocument","doc","document","createStyleSheet","cssText","head","getElementsByTagName","style","createElement","type","styleSheet","appendChild","createTextNode","byUrl","url","link","rel","href",2,"/Users/matt/Documents/branches/NICE.Tophat/node_modules/cssify",3,"attachTophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","this","activeElement","utils","find","proxy","clickhandler","cancelhandler","ev","target","srcElement","validateTarget","className","indexOf","undefined","parentNode","mustIgnoreEvent","elementAlreadyActive","enhance","preventDefault","updateStates","tophatEvent","replace","context","fn","isValid","event","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","./tophat.utils",4,5,"generateEvidenceElement","linklist","generateLinkList","evidenceLinks","create","tophatEvidence","links","output","label","push","generateLink","join","tophatEvidenceLinks","title","./tophat.evidence.html","./tophat.evidence.links","./tophat.evidence.links.html",6,7,"BNF","beta","BNFC","CKS","Journals and databases","Evidence search",8,9,"generateGlobalElement","tophatGlobal","./tophat.global.html",10,"getTophatElement","classname","el","body","constructTophat","services","evidenceResources","globalMenu","appendElement","addSearchToGlobal","searchForm","menu","insertBeforeElement","firstChild","prependElement","element","parent","insertBefore","sibling","evidenceElement","globalElement","searchElement","./tophat.css","./tophat.events","./tophat.evidence","./tophat.global","./tophat.search","./tophat.services",11,12,"generateSearchElement","tophatSearch","./tophat.search.html",13,14,"generateServiceElement","cleanUp","serviceLinks","tophatServices","id","tophatServicesLinks","oldElement","removeChild","./tophat.services.html","./tophat.services.links","./tophat.services.links.html",15,16,"pathways","guidance","standards",17,"root","search","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","RegExp","test","html","wrapper","innerHTML"],"mappings":"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"}