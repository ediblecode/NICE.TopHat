{"version":3,"sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","injectStyleTag","document","fileName","cb","style","getElementById","head","getElementsByTagName","createElement","id","appendChild","css","customDocument","doc","createStyleSheet","sheet","cssText","ownerNode","styleSheet","innerHTML","byUrl","url","link","rel","href","2","camelCaseAttribute","str","toLowerCase","replace","$1","toUpperCase","getTophatConfig","config","tag","getTophatScriptTag","len","attributes","key","value","getAttribute","evidence","service","accountsUrl","generateAccountsUrl","legacy","isLegacy","currentScript","tags","src","indexOf","env","environment","accountsDomain","accountsDomains","navigator","appName","ua","userAgent","re","RegExp","exec","parseFloat","local","3","search","label","title","bnf","bnfc","cks","journals","4","pathways","guidance","standards","5","tophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","internal","tophatClassname","StateControl","forElement","attachTophatEvents","attachDomEvent","proxy","clickhandler","cancelhandler","trackingHandler","searchHandler","ev","target","srcElement","validateTrackedElement","className","undefined","parentNode","category","labelEl","utils","find","action","textContent","innerText","window","location","cleanClass","this","preventDefault","sendTrackedEvent","isTrackedElement","nodeName","validateTarget","mustIgnoreEvent","blur","state","toggleEvidence","toggleProfile","toggleMobileMenu","isValid","isTophatElement","unfocus","el","tophatEvent","q","placeholder","term","escape","setTimeout","dataLayer","push","sendDataLayerEvent","_gaq","sendGAEvent","ga","sendUAEvent","logEventToConsole","data","event","eventCategory","eventAction","eventLabel","console","log","fn","enhance","context","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","../utils/dom","./states","6","TophatStates","element","classname","cleanClassname","getStateFromClassname","evidenceBtn","mobileMenuBtn","profileBtn","evidenceStateClassname","profile","profileStateClassname","mobile","mobileStateClassname","prototype","updateState","toggleAriaAttributes","btn","isBtnActive","setAttribute","controls","split","subMenu","7","generateEvidenceElement","appendElement","create","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","active","links","isBeta","output","generateLink","join","tophatEvidenceLinks","beta","../config/evidence","../templates/evidence/links.html","../templates/evidence/menu.html","../templates/evidence/service.html","8","generateGlobalElement","tophatGlobal","../templates/global/menu.html","9","generateProfileElement","insertBeforeElement","tophatProfileAnon","xhr","get","tophatProfileEndpoint","wtrealm","display_name","generateProfile","generateAnonProfile","disableProfile","anonitem","profileLink","tophatProfileService","thumbnail","menu","tophatProfile","remove","lastChild","profilenav","tophatProfileLinks","../templates/profile/anon.html","../templates/profile/links.html","../templates/profile/menu.html","../templates/profile/service.html","../utils/xhr","10","generateSearchElement","globalElement","params","parseQueryStringWithRegExp","view","tophatSearch","typeaheadtype","typeaheadsource","searchPlaceholder","searchElement","addSearchToGlobal","searchForm","firstChild","decodeURIComponentExtended","decodeURIComponent","unescape","extendParam","obj","name","val","existing","query","match","substring","../templates/search/form.html","11","generateServiceElement","cleanUp","serviceLinks","generateServiceBar","services","tophatServices","home","tophatServicesLinks","oldElement","removeChild","../config/services","../templates/services/links.html","../templates/services/menu.html","12","13","14","15","16","17","18","19","20","21","22","23","inject","./../node_modules/cssify","24","getTophatElement","body","composeTophat","evidenceResources","globalMenu","prependElement","evidenceElement","onTophatReady","setInitialState","./config","./events","./evidence","./global","./profile","./search","./services","./tophat.css","./utils/dom","25","root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","test","html","wrapper","parent","insertBefore","sibling","clientWidth","mobileMenu","mobileDropdown","mainMenu","26","resolve","script","Math","floor","random","done","onload","onreadystatechange","readyState","_na","./dom"],"mappings":"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","file":"tophat.js"}