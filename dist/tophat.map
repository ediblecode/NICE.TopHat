{"version":3,"sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","injectStyleTag","document","fileName","cb","style","getElementById","head","getElementsByTagName","createElement","id","appendChild","css","customDocument","doc","createStyleSheet","sheet","cssText","ownerNode","styleSheet","innerHTML","byUrl","url","link","rel","href","2","camelCaseAttribute","str","toLowerCase","replace","$1","toUpperCase","getTophatConfig","config","tag","getTophatScriptTag","len","attributes","key","value","getAttribute","evidence","service","accountsUrl","generateAccountsUrl","legacy","isLegacy","currentScript","tags","src","indexOf","env","environment","accountsDomain","accountsDomains","navigator","appName","ua","userAgent","re","RegExp","exec","parseFloat","local","3","search","label","title","bnf","bnfc","cks","journals","4","pathways","guidance","standards","5","tophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","internal","tophatClassname","StateControl","forElement","attachTophatEvents","attachDomEvent","proxy","clickhandler","cancelhandler","trackingHandler","searchHandler","ev","target","srcElement","validateTrackedElement","className","undefined","parentNode","category","labelEl","utils","find","action","textContent","innerText","window","location","cleanClass","this","preventDefault","sendTrackedEvent","isTrackedElement","nodeName","validateTarget","mustIgnoreEvent","blur","state","toggleEvidence","toggleProfile","toggleMobileMenu","isValid","isTophatElement","unfocus","el","tophatEvent","q","placeholder","term","escape","setTimeout","dataLayer","push","sendDataLayerEvent","_gaq","sendGAEvent","ga","sendUAEvent","logEventToConsole","data","event","eventCategory","eventAction","eventLabel","console","log","fn","enhance","context","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","../utils/dom","./states","6","TophatStates","element","classname","cleanClassname","getStateFromClassname","evidenceStateClassname","profile","profileStateClassname","mobile","mobileStateClassname","prototype","updateState","evidenceBtn","mobileMenuBtn","profileBtn","toggleAriaAttributes","toggleAriaAttributesOnMobile","btn","isBtnActive","controls","subMenu","setAttribute","menuId","7","generateEvidenceElement","appendElement","create","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","active","links","isBeta","output","generateLink","join","tophatEvidenceLinks","beta","../config/evidence","../templates/evidence/links.html","../templates/evidence/menu.html","../templates/evidence/service.html","8","generateGlobalElement","tophatGlobal","../templates/global/menu.html","9","generateProfileElement","insertBeforeElement","tophatProfileAnon","xhr","get","tophatProfileEndpoint","wtrealm","display_name","generateProfile","generateAnonProfile","disableProfile","anonitem","profileLink","tophatProfileService","thumbnail","menu","tophatProfile","remove","lastChild","profilenav","tophatProfileLinks","../templates/profile/anon.html","../templates/profile/links.html","../templates/profile/menu.html","../templates/profile/service.html","../utils/xhr","10","generateSearchElement","globalElement","params","parseQueryStringWithRegExp","view","tophatSearch","typeaheadtype","typeaheadsource","searchPlaceholder","searchElement","addSearchToGlobal","searchForm","firstChild","decodeURIComponentExtended","decodeURIComponent","unescape","extendParam","obj","name","val","existing","query","match","substring","../templates/search/form.html","11","generateServiceElement","cleanUp","serviceLinks","generateServiceBar","services","tophatServices","home","tophatServicesLinks","oldElement","removeChild","../config/services","../templates/services/links.html","../templates/services/menu.html","12","13","14","15","16","17","18","19","20","21","22","23","inject","./../node_modules/cssify","24","getTophatElement","body","composeTophat","evidenceResources","globalMenu","prependElement","evidenceElement","onTophatReady","./config","./events","./evidence","./global","./profile","./search","./services","./tophat.css","./utils/dom","25","root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","test","html","wrapper","parent","insertBefore","sibling","26","resolve","script","Math","floor","random","done","onload","onreadystatechange","readyState","_na","./dom"],"mappings":"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","file":"tophat.js"}