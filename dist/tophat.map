{"version":3,"sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","injectStyleTag","document","fileName","cb","style","getElementById","head","getElementsByTagName","createElement","id","appendChild","css","customDocument","doc","createStyleSheet","sheet","cssText","ownerNode","styleSheet","innerHTML","byUrl","url","link","rel","href","2","camelCaseAttribute","str","toLowerCase","replace","$1","toUpperCase","getTophatConfig","config","tag","getTophatScriptTag","len","attributes","key","value","getAttribute","evidence","service","accountsUrl","generateAccountsUrl","legacy","isLegacy","currentScript","tags","src","indexOf","env","environment","accountsDomains","navigator","appName","ua","userAgent","RegExp","exec","parseFloat","local","3","search","label","title","bnf","bnfc","cks","journals","4","pathways","guidance","standards","5","tophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","internal","tophatClassname","StateControl","forElement","attachTophatEvents","attachDomEvent","proxy","clickhandler","cancelhandler","trackingHandler","searchHandler","ev","target","srcElement","validateTrackedElement","className","undefined","parentNode","labelEl","utils","find","action","textContent","innerText","window","location","cleanClass","this","preventDefault","sendTrackedEvent","nodeName","validateTarget","blur","state","toggleEvidence","toggleProfile","toggleMobileMenu","isTophatElement","unfocus","el","tophatEvent","q","placeholder","term","escape","category","setTimeout","dataLayer","push","sendDataLayerEvent","_gaq","sendGAEvent","ga","sendUAEvent","logEventToConsole","data","event","eventCategory","eventAction","eventLabel","console","log","fn","enhance","context","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","../utils/dom","./states","6","TophatStates","element","classname","cleanClassname","getStateFromClassname","evidenceStateClassname","profile","profileStateClassname","mobile","mobileStateClassname","prototype","updateState","7","generateEvidenceElement","appendElement","create","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","active","links","isBeta","output","generateLink","join","tophatEvidenceLinks","beta","../config/evidence","../templates/evidence/links.html","../templates/evidence/menu.html","../templates/evidence/service.html","8","generateGlobalElement","tophatGlobal","../templates/global/menu.html","9","generateProfileElement","insertBeforeElement","tophatProfileAnon","xhr","get","tophatProfileEndpoint","wtrealm","display_name","generateProfile","generateAnonProfile","disableProfile","anonitem","profileLink","tophatProfileService","setAttribute","thumbnail","menu","tophatProfile","remove","lastChild","profilenav","tophatProfileLinks","../templates/profile/anon.html","../templates/profile/links.html","../templates/profile/menu.html","../templates/profile/service.html","../utils/xhr","10","generateSearchElement","globalElement","params","parseQueryStringWithRegExp","view","tophatSearch","typeaheadtype","typeaheadsource","searchPlaceholder","searchElement","addSearchToGlobal","searchForm","firstChild","decodeURIComponentExtended","decodeURIComponent","unescape","extendParam","obj","name","val","existing","query","match","substring","../templates/search/form.html","11","generateServiceElement","cleanUp","serviceLinks","generateServiceBar","services","tophatServices","home","tophatServicesLinks","oldElement","removeChild","../config/services","../templates/services/links.html","../templates/services/menu.html","12","13","14","15","16","17","18","19","20","21","22","23","inject","./../node_modules/cssify","24","body","evidenceElement","evidenceResources","globalMenu","prependElement","onTophatReady","./config","./events","./evidence","./global","./profile","./search","./services","./tophat.css","./utils/dom","25","root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","test","html","wrapper","parent","insertBefore","sibling","26","resolve","script","Math","floor","random","done","onload","onreadystatechange","readyState","_na","./dom"],"mappings":";;;;CAKA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,YAEA,SAASK,GAAgBC,EAAUC,EAAUC,GAC3C,GAAIC,GAAQH,EAASI,eAAeH,EAEpC,IAAIE,EACFD,EAAGC,OACE,CACL,GAAIE,GAAOL,EAASM,qBAAqB,QAAQ,EAEjDH,GAAQH,EAASO,cAAc,SACf,MAAZN,IAAkBE,EAAMK,GAAKP,GACjCC,EAAGC,GACHE,EAAKI,YAAYN,GAGnB,MAAOA,GAGTL,EAAOJ,QAAU,SAAUgB,EAAKC,EAAgBV,GAC9C,GAAIW,GAAMD,GAAkBX,QAE5B,IAAIY,EAAIC,iBAAkB,CACxB,GAAIC,GAAQF,EAAIC,kBAEhB,OADAC,GAAMC,QAAUL,EACTI,EAAME,UAEb,MAAOjB,GAAea,EAAKX,EAAU,SAAUE,GAEzCA,EAAMc,WACRd,EAAMc,WAAWF,QAAUL,EAE3BP,EAAMe,UAAYR,KAM1BZ,EAAOJ,QAAQyB,MAAQ,SAAUC,GAE/B,GAAIpB,SAASa,iBACX,MAAOb,UAASa,iBAAiBO,GAAKJ,SAEtC,IAAIX,GAAOL,SAASM,qBAAqB,QAAQ,GAC7Ce,EAAOrB,SAASO,cAAc,OAMlC,OAJAc,GAAKC,IAAM,aACXD,EAAKE,KAAOH,EAEZf,EAAKI,YAAYY,GACVA,QAILG,GAAG,SAASpC,EAAQU,EAAOJ,GASjC,QAAS+B,GAAmBC,GAE1B,MAAOA,GAAIC,cAERC,QAAS,SAAU,KAEnBA,QAAS,WAAY,IAGrBA,QAAS,QAAS,SAASC,GAAM,MAAOA,GAAGC,gBAE3CF,QAAS,KAAM,IAGpB,QAASG,KACL,GAAIC,MAEAC,EAAMC,GACV,IAAID,EACA,IAAK,GAAI5C,GAAI,EAAG8C,EAAMC,EAAWxC,OAAQP,EAAI8C,EAAK9C,IAAM,CACpD,GAAIgD,GAAMD,EAAW/C,GACjBiD,EAAQL,EAAIM,aAAc,QAAUF,EAEnCC,IAAmB,KAAVA,IACVN,EAAQP,EAAmBY,IAASC,GAUhD,MALIN,GAAOQ,WAAUR,EAAOS,QAAU,YAEtCT,EAAOU,YAAcC,EAAqBX,GAC1CA,EAAOY,OAASC,IAETb,EAGX,QAASE,KACL,GAAID,GAAMjC,SAAS8C,aACnB,IAAIb,EAAK,MAAOA,EAIhB,KAAM,GAFFc,GAAO/C,SAASM,qBAAsB,UAEhCjB,EAAI,EAAG8C,EAAMY,EAAKnD,OAAQP,EAAI8C,EAAK9C,IAAM,CAC/C,GAAI2D,GAAMD,EAAK1D,GAAG2D,IAAIrB,aAEtB,KAAQqB,EAAIC,QAAQ,eAAmBD,EAAIC,QAAQ,iBAC/C,MAAOF,GAAK1D,IAKxB,QAASsD,GAAqBX,GAC1B,GAAIkB,IAAOlB,EAAOmB,aAAe,QAAQxB,aAGzC,OAFqByB,GAAgBF,IAAQ,YAAuB,SAARA,EAAiBA,EAAM,IAAM,IAAO,uBAKpG,QAASL,KAGL,GAA0B,+BAArBQ,UAAUC,QAA2C,CACtD,GAAIC,GAAKF,UAAUG,SAEnB,IAAqB,OADX,GAAIC,QAAO,8BACbC,KAAKH,GACT,MAAmC,KAA5BI,WAAYF,OAAO5B,IAIlC,OAAO,EA9EX,GAAIO,IAAe,UAAW,WAAY,cAAe,YAAa,SAAU,qBAAsB,gBAAiB,kBAAmB,WAAY,OAAQ,WAE1JgB,GACAQ,MAAS,wBA8Eb9D,GAAOJ,QAAUqC,OAEX8B,GAAG,SAASzE,EAAQU,EAAOJ,GACjCI,EAAOJ,SACHoE,QACIvC,KAAM,8BACNwC,MAAO,kBACPC,MAAO,mBAEXC,KACI1C,KAAM,oDACNwC,MAAO,MACPC,MAAO,8BAEXE,MACI3C,KAAM,qDACNwC,MAAO,OACPC,MAAO,2CAEXG,KACI5C,KAAM,0BACNwC,MAAO,MACPC,MAAO,gCAEXI,UACI7C,KAAM,oFACNwC,MAAO,yBACPC,MAAO,gCAITK,GAAG,SAASjF,EAAQU,EAAOJ,GACjCI,EAAOJ,SACH4E,UACI/C,KAAM,gCACNwC,MAAO,iBAEXQ,UACIhD,KAAM,mCACNwC,MAAO,iBAEXS,WACIjD,KAAM,mDACNwC,MAAO,uCAITU,GAAG,SAASrF,EAAQU,EAAOJ,GAMjC,QAASgF,GAAc1E,EAAU2E,EAAeC,EAAgB5C,GAC5D6C,EAAM7E,EAAS8E,iBAAmB,mBAAqB,cACvDC,EAAS/E,EAAS8E,iBAAmB,GAAK,KAEtC9C,EAAOgD,WACPC,GAAmB,kBAGvBC,EAAaC,WAAYR,GAEzBS,EAAoBpF,EAAU2E,GAGlC,QAASS,GAAoBpF,EAAU2E,GACnCU,EAAgBV,EAAe,QAASW,EAAOX,EAAeY,IAC9DF,EAAgBrF,EAAU,QAASsF,EAAOX,EAAea,IACzDH,EAAgBV,EAAe,QAASW,EAAOX,EAAec,IAC9DJ,EAAgBV,EAAe,SAAUW,EAAOX,EAAee,IAQnE,QAASD,GAAiBE,GAGtB,IAFA,GAAIC,GAASD,EAAGC,QAAUD,EAAGE,YAEpBC,EAAwBF,IAAW,CAExC,IAAMA,EAAOG,UAAU9C,QAAS,eAAkB,CAC9C2C,EAASI,MACT,OAGJJ,EAASA,EAAOK,WAGpB,GAAI1E,GAAOqE,IAAYA,EAAOrE,MAAQqE,EAAOtF,qBAAqB,KAAK,GAAGiB,KAE1E,IAAKqE,GAAWrE,EAAhB,CAEA,GACI2E,GAAYC,EAAMC,KAAMR,EAAQ,cAAe,IAAMA,EACrDS,EAASH,EAAQI,aAAeJ,EAAQK,WAAaL,EAAQhF,UAC7D6C,EAAQyC,OAAOC,SAASlF,IAE5B,QAASmF,EAAYd,EAAOG,YACxB,IAAK,eACDM,EAAS,iBAAmBM,KAAKZ,UAAU9C,QAAS2C,EAAOG,UAAY,SAAY,YAAc,eACjGxE,GAAO,CACP,MAEJ,KAAK,gBACL,IAAK,cACD8E,IAAYM,KAAKZ,UAAU9C,QAAS2C,EAAOG,UAAY,SAAY,YAAc,cACjFxE,GAAO,EAIfoE,EAAGiB,iBAEHC,EApBe,SAoBaR,EAAQtC,EAAO,WACnCxC,IAAMiF,OAAOC,SAASlF,KAAOA,MAIzC,QAASuE,GAAwBF,GAK7B,SAJuBA,GACmB,OAAlCA,EAAOkB,SAASnF,iBACbiE,EAAOG,UAAU9C,QAAS,YAAc2C,EAAOG,UAAU9C,QAAS,cAQjF,QAASsC,GAAcI,GAGnB,IAFA,GAAIC,GAASD,EAAGC,QAAUD,EAAGE,WAErBkB,EAAgBnB,IAAW,CAE/B,IAAMA,EAAOG,UAAU9C,QAAS,eAAkB,CAC9C2C,EAASI,MACT,OAGJJ,EAASA,EAAOK,WAIpB,GADyBL,KAAYA,EAAOG,UAAU9C,QAAS,eAO/D,OAJA0C,EAAGiB,kBAEFjB,EAAGC,QAAUD,EAAGE,YAAYmB,OAEpBN,EAAYd,EAAOG,YACxB,IAAK,gBACDY,KAAKM,MAAMC,gBACX,MAEJ,KAAK,eACDP,KAAKM,MAAME,eACX,MAEJ,KAAK,cACDR,KAAKM,MAAMG,oBAKvB,QAASL,GAAgBnB,GAMrB,SALcA,IACJA,EAAOG,UAAU9C,QAAS,mBAC1B2C,EAAOG,UAAU9C,QAAS,iBAC1B2C,EAAOG,UAAU9C,QAAS,iBAQxC,QAASuC,GAAeG,GAGf0B,EAFQ1B,EAAGC,QAAUD,EAAGE,aAI7Bc,KAAKM,MAAMK,UAGf,QAASD,GAAiBE,GAItB,IAHA,GAAIC,IAAc,EACd5B,EAAS2B,EAEL3B,GAAS,CACb,GAAKA,EAAOG,YAAcH,EAAOG,UAAU9C,QAAS,eAAkB,CAClEuE,GAAc,CACd,OAGJ5B,EAASA,EAAOK,WAGpB,MAAOuB,GAMX,QAAS9B,GAAeC,GACpB,GAAIC,GAASD,EAAGC,QAAUD,EAAGE,UAE7B,IAAKD,EAAOG,YAAcH,EAAOG,UAAU9C,QAAS,iBAC3C2C,EAAOS,OAAOvC,OAAQ,iBAAoB8B,EAAO6B,EAAI,CAE1D,GAAIC,GAAc9B,EAAO6B,EAAElF,aAAa,eACpCkF,EAAI7B,EAAO6B,EAAEnF,MACbqF,EAASF,IAAMC,EAAgBE,OAAQH,EAAE7F,QAAQ,MAAO,MAAS,GACjE6E,EAAWb,EAAOS,OAAOzE,QAAQ,eAAgB+F,EAErDd,GAAkB,SAAUc,EAAMlB,EAAU,WACxCD,OAAOC,SAASlF,KAAOkF,IAG3Bd,EAAGiB,kBASX,QAASC,GAAkBgB,EAAUxB,EAAQtC,EAAO7D,GAKhD,MAJIA,IACAsG,OAAOsB,WAAY5H,EAAI,IAGtBsG,OAAOuB,WAA8C,kBAA1BvB,QAAOuB,UAAUC,KACxCC,EAAoBJ,EAAUxB,EAAQtC,GAG1CyC,OAAO0B,MAAoC,kBAArB1B,QAAO0B,KAAKF,KAC9BG,EAAaN,EAAUxB,EAAQtC,GAGd,kBAAdyC,QAAO4B,GACRC,EAAaR,EAAUxB,EAAQtC,OAG1CuE,GAAmBT,EAAUxB,EAAQtC,GAGzC,QAASkE,GAAoBJ,EAAUxB,EAAQtC,GAC7C,GAAIwE,IACFC,MAAO,UACPC,cAAeZ,EACfa,YAAarC,EACbsC,WAAY5E,EAGdyC,QAAOuB,UAAUC,KAAMO,GAGzB,QAASJ,GAAaN,EAAUxB,EAAQtC,GACpC,GAAIwE,IAAS,cAAeV,EAAUxB,EAAQtC,EAE9CyC,QAAO0B,KAAKF,KAAMO,GAGtB,QAASF,GAAaR,EAAUxB,EAAQtC,GACpC,GAAIwE,IACAV,SAAUA,EACVxB,OAAQA,EACRtC,MAAOA,EAGXyC,QAAO4B,GAAI,OAAQ,QAASG,GAGhC,QAASD,GAAmBT,EAAUxB,EAAQtC,GAC1C,GAAI6E,GAAUpC,OAAOoC,OAEhBA,IAAWA,EAAQC,KACpBD,EAAQC,IAAK,QAAShB,EAAUxB,EAAQtC,GAShD,QAAS2C,GAAYX,GACjB,MAAOA,GAAUnE,QAAQ,UAAW,IAGxC,QAASyD,GAAgBkC,EAAI5B,EAAImD,GAC7BvB,EAAG1C,GAAME,EAASY,EAAI,SAAU6C,GAAUM,EAAIC,EAASP,MAAc,GA0BzE,QAASlD,GAAO0D,EAASF,GACrB,MAAO,UAAUnD,GACbmD,EAAGnJ,KAAMqJ,EAASrD,IAI1B,QAASoD,GAASP,GACd,GAAIS,GAAmBT,EAAMU,gBACzBC,EAAkBX,EAAM5B,cAsB5B,OApBA4B,GAAMU,gBAAkB,WAOpB,MANID,GACAA,EAAiBtJ,KAAM6I,GAEvBA,EAAMY,cAAe,EAGlBZ,GAGXA,EAAM5B,eAAiB,WAOnB,MANIuC,GACAA,EAAgBxJ,KAAM6I,GAEtBA,EAAMa,aAAc,EAGjBb,GAGJA,EA9SX,GAGI3D,GAAKE,EAHLoB,EAAQ/G,EAAQ,gBAChB8F,EAAe9F,EAAQ,YACvB6F,EAAkB,aAkTtBnF,GAAOJ,QAAUgF,IAEd4E,eAAe,GAAGC,WAAW,IAAIC,GAAG,SAASpK,EAAQU,EAAOJ,GAK/D,QAAS+J,GAAclC,GACnBZ,KAAK+C,QAAUnC,EACfZ,KAAKgD,UAAYC,EAAgBrC,EAAGxB,WAEpCY,KAAK4B,KAAOsB,EAAuBtC,EAAGxB,WAEtCwB,EAAGN,MAAQN,KAGf,QAASkD,GAAuBF,GAC5B,OACQnH,UAAWmH,EAAU1G,QAAQ6G,GAC7BC,SAAUJ,EAAU1G,QAAQ+G,GAC5BC,QAASN,EAAU1G,QAAQiH,IAIvC,QAASN,GAAgBD,GACrB,MAAOA,GACF/H,QAAS,IAAMkI,EAAwB,IACvClI,QAAS,IAAMoI,EAAuB,IACtCpI,QAAS,IAAMsI,EAAsB,IAzB9C,GAAIJ,GAAyB,qBACzBE,EAAwB,oBACxBE,EAAuB,kBA0B3BT,GAAaU,WAETC,YAAa,WACT,GAAIT,GAAYhD,KAAKgD,WACfhD,KAAK4B,KAAK/F,SAAW,IAAMsH,EAAyB,KACpDnD,KAAK4B,KAAKwB,QAAU,IAAMC,EAAwB,KAClDrD,KAAK4B,KAAK0B,OAAS,IAAMC,EAAuB,GAEtDvD,MAAK+C,QAAQ3D,UAAY4D,GAG7BzC,eAAgB,WACZP,KAAK4B,KAAK/F,UAAYmE,KAAK4B,KAAK/F,SAC5BmE,KAAK4B,KAAK/F,WACVmE,KAAK4B,KAAKwB,SAAU,EACpBpD,KAAK4B,KAAK0B,QAAS,GAEvBtD,KAAKyD,eAGTjD,cAAe,WACXR,KAAK4B,KAAKwB,SAAWpD,KAAK4B,KAAKwB,QAC3BpD,KAAK4B,KAAKwB,UACVpD,KAAK4B,KAAK0B,QAAS,EACnBtD,KAAK4B,KAAK/F,UAAW,GAEzBmE,KAAKyD,eAGThD,iBAAkB,WACdT,KAAK4B,KAAK0B,QAAUtD,KAAK4B,KAAK0B,OAC1BtD,KAAK4B,KAAK0B,SACVtD,KAAK4B,KAAKwB,SAAU,EACpBpD,KAAK4B,KAAK/F,UAAW,GAEzBmE,KAAKyD,eAGT9C,QAAS,WACLX,KAAK4B,KAAKwB,SAAU,EACpBpD,KAAK4B,KAAK0B,QAAS,EACnBtD,KAAK4B,KAAK/F,UAAW,EACrBmE,KAAKyD,gBAKbtK,EAAOJ,SACHyF,WAAY,SAAUoC,GAClB,GAAIkC,GAAclC,UAIpB8C,GAAG,SAASjL,EAAQU,EAAOJ,GAOjC,QAAS4K,GAAyB3F,EAAeC,EAAgB5C,GAC7D,IAAIA,EAAOgD,SAAX,CAEAmB,EAAMoE,cAAepE,EAAMqE,OAAQC,GAAyBtE,EAAMC,KAAMxB,EAAgB,QAAS,GAEjG,IAAI8F,GAAWC,EAAkBC,EAAsC,SAAvB5I,EAAOmB,aAEnDoE,EAAKpB,EAAMqE,OAAQK,EAAejJ,QAAS,WAAY8I,GAE3D,IAAK1I,EAAOQ,SAAW,CACnB,GAAIsI,GAAS3E,EAAMC,KAAMmB,EAAI,YAAcvF,EAAOQ,UAAW,EAC7DsI,GAAO/E,UAAY+E,EAAO/E,UAAY,UAG1C,MAAOwB,IAGX,QAASoD,GAAkBI,EAAOC,GAC9B,GAAIC,KACJ,KAAM,GAAIzK,KAAMuK,GAAQ,CACpB,GAAI1J,GAAO0J,EAAOvK,EAElByK,GAAOjD,KAAMkD,EAAc1K,EAAIa,EAAM2J,IAGzC,MAAOC,GAAOE,KAAM,IAGxB,QAASD,GAAc1K,EAAIa,EAAM2J,GAO7B,MANaI,GACNxJ,QAAS,WAAYpB,GACrBoB,QAAS,cAAeP,EAAK0C,OAC7BnC,QAAS,cAAeP,EAAK2C,OAC7BpC,QAAS,cAAgBoJ,EAAS3J,EAAKgK,KAAOrF,SAAe3E,EAAKE,MAvC7E,GAAI4E,GAAQ/G,EAAQ,gBAChBwL,EAAgBxL,EAAQ,sBACxByL,EAAiBzL,EAAQ,mCACzBqL,EAAwBrL,EAAQ,sCAChCgM,EAAsBhM,EAAQ,mCAwClCU,GAAOJ,QAAU4K,IAEdgB,qBAAqB,EAAEC,mCAAmC,GAAGC,kCAAkC,GAAGC,qCAAqC,GAAGnC,eAAe,KAAKoC,GAAG,SAAStM,EAAQU,EAAOJ,GAI5L,QAASiM,GAAuBhH,GAC5B,GAAI4C,GAAKpB,EAAMC,KAAMzB,EAAe,eAAgB,EAMpD,OAJK4C,KACDA,EAAKpB,EAAMqE,OAAQoB,IAGhBrE,EAVX,GAAIpB,GAAQ/G,EAAQ,gBAChBwM,EAAexM,EAAQ,gCAY3BU,GAAOJ,QAAUiM,IAEdE,gCAAgC,GAAGvC,eAAe,KAAKwC,GAAG,SAAS1M,EAAQU,EAAOJ,GASrF,QAASqM,GAAwBpH,EAAeC,EAAgB5C,GACrC,SAAnBA,EAAO+H,UAEX5D,EAAM6F,oBAAqB7F,EAAMqE,OAAQyB,EAAkBrK,QAAQ,WAAYI,EAAOU,cAAgByD,EAAMC,KAAMxB,EAAgB,QAAS,IAE3IsH,EAAIC,IAAKnK,EAAOU,YAAc0J,GAA0BpK,EAAOqK,QAAU,YAAcrK,EAAOqK,QAAU,IAAM,SAAU9D,GACpH,MAAKA,GAKDA,EAAK+D,iBACLC,GAAiB5H,EAAe4D,OAIpCiE,GAAqB7H,EAAe4D,OATlCkE,GAAgB9H,MAa1B,QAAS4H,GAAiBhF,EAAIwC,GAC5B,GAAI2C,GAAWvG,EAAMC,KAAMmB,EAAI,kBAAmB,GAC9CoF,EAAcxG,EAAMqE,OAAQoC,EAEhCD,GAAYE,aAAc,QAAS9C,EAAQuC,cACvCvC,EAAQ+C,WAAa/C,EAAQ+C,UAAUlN,SACzC+M,EAAYzL,UAAY,aAAc6I,EAAQ+C,UAAW,uDAG3D,IAAIpC,GAAWC,EAAkBZ,EAAQgB,OACrCgC,EAAO5G,EAAMqE,OAAQwC,EAAcpL,QAAS,WAAY8I,GAE5DvE,GAAM6F,oBAAqBW,EAAaD,GACxCvG,EAAM8G,OAAQP,GACdvG,EAAM6F,oBAAqBe,EAAMxF,EAAG2F,WAGtC,QAASV,GAAqBjF,EAAIwC,GAChC,GAAI4C,GAAcxG,EAAMC,KAAMmB,EAAI,kBAAmB,EAEjDwC,GAAQgB,OAAShB,EAAQgB,MAAM,YACjC4B,EAAYE,aAAc,OAAQ9C,EAAQgB,MAAM,YAIpD,QAAS0B,GAAgBlF,GACrB,GAAI4F,GAAahH,EAAMC,KAAMmB,EAAI,gBAAiB,EAClDpB,GAAM8G,OAAQE,GAGlB,QAASxC,GAAkBI,GACvB,GAAIE,KACJ,KAAM,GAAIlH,KAASgH,GAAQ,CACvB,GAAIxJ,GAAOwJ,EAAOhH,EAElBkH,GAAOjD,KAAMkD,EAAcnH,EAAOxC,IAGtC,MAAO0J,GAAOE,KAAM,IAGxB,QAASD,GAAcnH,EAAOxC,GAK1B,MAJa6L,GACRxL,QAAS,cAAemC,GACxBnC,QAAS,aAAcL,GAxEhC,GAAI4E,GAAQ/G,EAAQ,gBAChB8M,EAAM9M,EAAQ,gBACd4N,EAAgB5N,EAAQ,kCACxBwN,EAAuBxN,EAAQ,qCAC/B6M,EAAoB7M,EAAQ,kCAC5BgO,EAAqBhO,EAAQ,mCAC7BgN,EAAwB,SAuE5BtM,GAAOJ,QAAUqM,IAEdsB,iCAAiC,GAAGC,kCAAkC,GAAGC,iCAAiC,GAAGC,oCAAoC,GAAGlE,eAAe,GAAGmE,eAAe,KAAKC,IAAI,SAAStO,EAAQU,EAAOJ,GAIzN,QAASiO,GAAuBC,EAAehJ,EAAgB5C,GAC3D,GAAKA,EAAO8B,OAAZ,CAEA,GAAI+J,GAASC,EAA4BtH,OAAOC,SAAS3C,QAErDiK,EAAOC,EACNpM,QAAQ,aAAc,OACtBA,QAAQ,aAAcI,EAAO8B,OAAOlC,QAAS,KAAM,WACnDA,QAAQ,oBAAqBI,EAAOiM,eAAiB,IACrDrM,QAAQ,sBAAuBI,EAAOkM,iBAAmB,IACzDtM,QAAQ,kBAAmBI,EAAOmM,mBAAqB,aACvDvM,QAAQ,SAAUiM,EAAOpG,GAAK,IAAI7F,QAAS,KAAM,WAElDwM,EAAgBjI,EAAMqE,OAAQuD,EAIlC,OAFAM,GAAmBT,EAAeQ,GAE3BA,GAGX,QAASC,GAAmB9G,EAAI+G,GAC5B,GAAIvB,GAAO5G,EAAMC,KAAMmB,EAAI,QAAS,EAEpC,IAAIwF,EACA,MAAO5G,GAAM6F,oBAAqBsC,EAAYvB,EAGpD5G,GAAMoE,cAAe+D,EAAY/G,EAAGgH,YAItC,QAASC,GAA6BxP,GAClC,MAAOyP,oBAAoBC,UAAW1P,GAAK,IAAI4C,QAAS,MAAO,OAGnE,QAAS+M,GAAaC,EAAKC,EAAMC,GAC7B,GAAIzM,GAAMmM,EAA4BK,GAClCvM,EAAQkM,EAA4BM,GACpCC,EAAWH,EAAIvM,EAEnB,IAAyB,SAAb0M,EAER,YADAH,EAAIvM,GAAOC,EAIU,iBAAbyM,IAA0BA,EAASnP,SAC3CgP,EAAIvM,IAAS0M,IAGjBH,EAAIvM,GAAK2F,KAAM1F,GAInB,QAASwL,GAA4BkB,GAOnC,IANA,GAAIC,GACAnL,EAAS,qBAET+J,EAASmB,EAAME,UAAU,GACzBN,KAEKK,EAAQnL,EAAOJ,KAAMmK,IAC3Bc,EAAaC,EAAKK,EAAM,GAAIA,EAAM,GAGrC,OAAOL,GAnET,GAAIzI,GAAQ/G,EAAQ,gBAChB4O,EAAe5O,EAAQ,gCAsE3BU,GAAOJ,QAAUiO,IAEdwB,gCAAgC,GAAG7F,eAAe,KAAK8F,IAAI,SAAShQ,EAAQU,EAAOJ,GAMtF,QAAS2P,GAAwB1K,EAAe3C,GAC5CsN,EAAS3K,EAET,IAAIoI,GAAO,EAKX,OAJK/K,GAAOgD,WACR+H,EAAOpC,EAAkB4E,EAAqC,SAAvBvN,EAAOmB,cAG3CqM,EAAoBzC,EAAM/K,GAGrC,QAASwN,GAAoBzC,EAAM/K,GAC/B,GAAIyN,GAAWC,EACN9N,QAAS,WAAYmL,GACrBnL,QAAS,eAAgBI,EAAO2N,MAAQ,0BAE7CpI,EAAKpB,EAAMqE,OAAQiF,EAMvB,OAJIzN,GAAOgD,WACPmB,EAAMC,KAAMmB,EAAI,QAAQ,GAAGjH,qBAAsB,SAAU,GAAGY,UAAYc,EAAOgD,UAG9EuC,EAGX,QAASoD,GAAkBI,EAAOC,GAC9B,GAAIC,KACJ,KAAM,GAAIzK,KAAMuK,GAAQ,CACpB,GAAI1J,GAAO0J,EAAMvK,EAEjByK,GAAOjD,KAAMkD,EAAc1K,EAAIa,EAAM2J,IAGzC,MAAOC,GAAOE,KAAM,IAGxB,QAASD,GAAc1K,EAAIa,EAAM2J,GAO7B,MANa4E,GACNhO,QAAS,WAAYpB,GACrBoB,QAAS,cAAeP,EAAK0C,OAC7BnC,QAAS,cAAeP,EAAK2C,OAC7BpC,QAAS,cAAgBoJ,EAAS3J,EAAKgK,KAAOrF,SAAe3E,EAAKE,MAK7E,QAAS+N,GAAS3K,GACd,GAAIkL,GAAa1J,EAAMC,KAAMzB,EAAe,iBAAkB,EAE1DkL,IACAA,EAAW5J,WAAW6J,YAAaD,GAvD3C,GAAI1J,GAAQ/G,EAAQ,gBAChBmQ,EAAenQ,EAAQ,sBACvBsQ,EAAiBtQ,EAAQ,mCACzBwQ,EAAsBxQ,EAAQ,mCAwDlCU,GAAOJ,QAAU2P,IAEdU,qBAAqB,EAAEC,mCAAmC,GAAGC,kCAAkC,GAAG3G,eAAe,KAAK4G,IAAI,SAAS9Q,EAAQU,EAAOJ,GACrJI,EAAOJ,QAAU,2FACXyQ,IAAI,SAAS/Q,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,0HACX0Q,IAAI,SAAShR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,qFACX2Q,IAAI,SAASjR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,wFACX4Q,IAAI,SAASlR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,oEACX6Q,IAAI,SAASnR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,iDACX8Q,IAAI,SAASpR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,wHACX+Q,IAAI,SAASrR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,6FACXgR,IAAI,SAAStR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,qbACXiR,IAAI,SAASvR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,qEACXkR,IAAI,SAASxR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,gQACXmR,IAAI,SAASzR,EAAQU,EAAOJ,GAClC,GAAIoR,GAAS1R,EAAQ,4BACjBsB,EAAM,4/fACVoQ,GAAOpQ,EAAKsF,OAAW,WACvBlG,EAAOJ,QAAUgB,IAEdqQ,2BAA2B,IAAIC,IAAI,SAAS5R,EAAQU,EAAOJ,GAE9DN,EAAQ,eAGR,IAAI+G,GAAQ/G,EAAQ,eAChB6R,EAAOjR,SAASiR,KAEhBjP,EAAS5C,EAAQ,cAGjBuF,EAuCJ,SAA2BgF,EAAW3H,GACpC,GAAIuF,GAAKpB,EAAMC,KAAM6K,EAAMtH,GAAY,EASvC,OARKpC,KACDA,EAAKpB,EAAMqE,OAAO,eAAgBb,EAAW,QAGjDpC,EAAGxB,UAAY4D,GACT3H,EAAOgD,SAAW,iBAAmB,KACrChD,EAAOY,OAAS,iBAAmB,IAElC2E,GAjD6B,cAAevF,GAGjD4C,EAAiBxF,EAAQ,cAAeuF,EAAe3C,GAGvDkP,EAAkB9R,EAAQ,cAAeuF,EAAeC,EAAgB5C,EAG5E5C,GAAQ,aAAcuF,EAAeC,EAAgB5C,EAGrD,IAAI4L,GAAgBxO,EAAQ,YAAauF,EAGrBvF,GAAQ,YAAawO,EAAehJ,EAAgB5C,IAqCxE,SAAwBuF,EAAIkI,EAAU0B,EAAmBC,EAAYpP,GAKjE,GAJAmE,EAAMoE,cAAekF,EAAUlI,GAC3B4J,GAAmBhL,EAAMoE,cAAe4G,EAAmB5J,GAC3D6J,GAAYjL,EAAMoE,cAAe6G,EAAY7J,GAE5CvF,EAAOS,QAAU,CAClB,GAAIsD,GAAY,QAAU/D,EAAOS,OACpB0D,GAAMC,KAAMmB,EAAIxB,GAAY,GAClCA,WAAa,UACpBwB,EAAGxB,WAAa,IAAMA,EAAY,UAItCI,EAAMkL,eAAgB1M,EAAesM,IA1C1BtM,EAAeC,EAAgBsM,EAAiBtD,EAAe5L,GAG9E5C,EAAQ,YAAaY,SAAU2E,EAAeC,EAAgB5C,GAG1DhC,SAASsR,eACTtR,SAASsR,kBAsCVC,WAAW,EAAEC,WAAW,EAAEC,aAAa,EAAEC,WAAW,EAAEC,YAAY,EAAEC,WAAW,GAAGC,aAAa,GAAGC,eAAe,GAAGC,cAAc,KAAKC,IAAI,SAAS5S,EAAQU,EAAOJ,GACtK,GAAIyG,KAEJA,GAAMC,KAAO,SAAU6L,EAAMnO,GAMzB,QAASoO,GAA8BD,EAAMnO,GACzC,MAAOmO,GAAKE,uBAAuBrO,GAGvC,QAASsO,GAA+BH,EAAMnO,GAC1C,GAAcuO,GAAUC,EAASjT,EAA7BkT,EAAIN,EAA4BO,IAEpC,IAAIP,EAAKQ,iBACL,MAAOR,GAAKQ,iBAAiB,IAAM3O,EAGvC,IAAImO,EAAKS,SAIL,IAHAJ,EAAU,6CAA+CxO,EAAS,OAClEuO,EAAWJ,EAAKS,SAASJ,EAASC,EAAG,KAAM,EAAG,MAEtClT,EAAIgT,EAASM,eACjBH,EAAQxK,KAAK3I,OAEd,CACHgT,EAAWJ,EAAK3R,qBAAqB,KACrCgS,EAAU,GAAI7O,QAAO,UAAYK,EAAS,UAE1C,IAAI3B,GAAMkQ,EAASzS,MACnB,KAAKP,EAAI,EAAGA,EAAI8C,EAAK9C,IACZiT,EAAQM,KAAKP,EAAShT,GAAG0G,YAC1ByM,EAAQxK,KAAKqK,EAAShT,IAKlC,MAAOmT,GAnCX,GAAIpM,GAAOpG,SAASmS,uBAAyBD,EAA+BE,CAG5E,OAFAjM,GAAMC,KAAOA,EAENA,EAAM6L,EAAMnO,IAoCvBqC,EAAMqE,OAAS,SAAUqI,GACrB,KAAMA,EAAK5P,QAAQ,KACf,MAAOjD,UAASO,cAAesS,EAGnC,IAAIC,GAAU9S,SAASO,cAAc,MAIrC,OAFAuS,GAAQ5R,UAAY2R,EAEbC,EAAQvE,YAGnBpI,EAAM8G,OAAS,SAAUvD,GACrBA,EAAQzD,WAAW6J,YAAapG,IAGpCvD,EAAMkL,eAAiB,SAAU3H,EAASqJ,GACtCA,EAAOC,aAActJ,EAASqJ,EAAOxE,aAGzCpI,EAAM6F,oBAAsB,SAAUtC,EAASuJ,GAC9BA,EAAQhN,WAEd+M,aAActJ,EAASuJ,IAGlC9M,EAAMoE,cAAgB,SAAUb,EAASqJ,GACrCA,EAAOtS,YAAaiJ,IAGxB5J,EAAOJ,QAAUyG,OAEX+M,IAAI,SAAS9T,EAAQU,EAAOJ,GAClC,GAAIyG,GAAQ/G,EAAQ,SAChB8M,IAEJA,GAAIC,IAAM,SAAU/K,EAAK+R,GACrB,GAAIlC,GAAOjR,SAASiR,KAChBmC,EAASpT,SAASO,cAAc,SACpC6S,GAAOpQ,IAAM5B,IAASA,EAAI6B,QAAQ,KAAO,IAAM,KAAQoQ,KAAKC,MAAsB,KAAhBD,KAAKE,SAGvE,IAAIC,IAAO,CAGXJ,GAAOK,OAASL,EAAOM,mBAAqB,WAClCF,GAAU7M,KAAKgN,YAAkC,WAApBhN,KAAKgN,YAA+C,aAApBhN,KAAKgN,aACpEH,GAAO;oFACPL,EAAS3M,OAAOoN,KAGhBR,EAAOK,OAASL,EAAOM,mBAAqB,KACvCzC,GAAQmC,EAAOnN,YAChBgL,EAAKnB,YAAasD,KAK9BjN,EAAMkL,eAAgB+B,EAAQnC,IAGlCnR,EAAOJ,QAAUwM,IAEd2H,QAAQ,UAAU","file":"tophat.js"}