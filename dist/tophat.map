{"version":3,"sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","injectStyleTag","document","fileName","cb","style","getElementById","head","getElementsByTagName","createElement","id","appendChild","css","customDocument","doc","createStyleSheet","sheet","cssText","ownerNode","styleSheet","innerHTML","byUrl","url","link","rel","href","2","getTophatConfig","config","tag","getTophatScriptTag","len","attributes","key","value","getAttribute","evidence","service","accountsUrl","generateAccountsUrl","legacy","isLegacy","currentScript","tags","src","toLowerCase","indexOf","env","environment","accountsDomain","accountsDomains","navigator","appName","ua","userAgent","re","RegExp","exec","parseFloat","$1","local","3","search","label","title","bnf","bnfc","cks","journals","4","pathways","guidance","standards","5","tophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","internal","tophatClassname","StateControl","forElement","attachTophatEvents","attachDomEvent","proxy","clickhandler","cancelhandler","trackingHandler","searchHandler","ev","target","srcElement","validateTrackedElement","className","undefined","parentNode","category","labelEl","utils","find","action","textContent","innerText","window","location","cleanClass","this","preventDefault","sendTrackedEvent","isTrackedElement","nodeName","validateTarget","mustIgnoreEvent","blur","state","toggleEvidence","toggleProfile","toggleMobileMenu","isValid","isTophatElement","unfocus","el","tophatEvent","q","placeholder","term","escape","replace","setTimeout","dataLayer","push","sendDataLayerEvent","_gaq","sendGAEvent","ga","sendUAEvent","logEventToConsole","data","event","eventCategory","eventAction","eventLabel","console","log","fn","enhance","context","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","../utils/dom","./states","6","TophatStates","element","classname","cleanClassname","getStateFromClassname","evidenceStateClassname","profile","profileStateClassname","mobile","mobileStateClassname","prototype","updateState","7","generateEvidenceElement","appendElement","create","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","active","links","isBeta","output","generateLink","join","tophatEvidenceLinks","beta","../config/evidence","../templates/evidence/links.html","../templates/evidence/menu.html","../templates/evidence/service.html","8","generateGlobalElement","tophatGlobal","../templates/global/menu.html","9","generateProfileElement","insertBeforeElement","tophatProfileAnon","xhr","get","tophatProfileEndpoint","wtrealm","display_name","generateProfile","generateAnonProfile","disableProfile","anonitem","profileLink","tophatProfileService","setAttribute","thumbnail","menu","tophatProfile","remove","lastChild","profilenav","tophatProfileLinks","../templates/profile/anon.html","../templates/profile/links.html","../templates/profile/menu.html","../templates/profile/service.html","../utils/xhr","10","generateSearchElement","globalElement","params","parseQueryStringWithRegExp","view","tophatSearch","typeaheadtype","typeaheadsource","searchElement","addSearchToGlobal","searchForm","firstChild","decodeURIComponentExtended","decodeURIComponent","unescape","extendParam","obj","name","val","existing","query","match","substring","../templates/search/form.html","11","generateServiceElement","cleanUp","serviceLinks","generateServiceBar","services","tophatServices","home","tophatServicesLinks","oldElement","removeChild","../config/services","../templates/services/links.html","../templates/services/menu.html","12","13","14","15","16","17","18","19","20","21","22","23","inject","./../node_modules/cssify","24","getTophatElement","body","composeTophat","evidenceResources","globalMenu","prependElement","evidenceElement","onTophatReady","./config","./events","./evidence","./global","./profile","./search","./services","./tophat.css","./utils/dom","25","root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","test","html","wrapper","parent","insertBefore","sibling","26","resolve","script","Math","floor","random","done","onload","onreadystatechange","readyState","_na","./dom"],"mappings":"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","file":"tophat.js"}