{"version":3,"file":"tophat.js","sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","css","customDocument","doc","document","createStyleSheet","cssText","head","getElementsByTagName","style","createElement","type","styleSheet","appendChild","createTextNode","byUrl","url","link","rel","href",2,"/Users/matt/Documents/branches/NICE.Tophat/node_modules/cssify",3,"attachTophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","this","activeElement","utils","find","proxy","clickhandler","cancelhandler","ev","target","srcElement","validateTarget","className","indexOf","undefined","parentNode","mustIgnoreEvent","elementAlreadyActive","enhance","preventDefault","updateStates","tophatEvent","replace","context","fn","isValid","event","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","./tophat.utils",4,5,"generateEvidenceElement","linklist","generateLinkList","evidenceLinks","create","tophatEvidence","links","output","label","push","generateLink","join","tophatEvidenceLinks","title","./tophat.evidence.html","./tophat.evidence.links","./tophat.evidence.links.html",6,7,"BNF","beta","BNFC","CKS","Journals and databases","Evidence search",8,9,"generateGlobalElement","tophatGlobal","./tophat.global.html",10,"getTophatConfig","attributes","config","tag","getTophatScriptTag","len","key","value","getAttribute","currentScript","tags","src","getTophatElement","classname","el","body","constructTophat","services","evidenceResources","globalMenu","appendElement","service","addSearchToGlobal","searchForm","menu","insertBeforeElement","firstChild","prependElement","element","parent","insertBefore","sibling","evidenceElement","globalElement","searchElement","./tophat.css","./tophat.events","./tophat.evidence","./tophat.global","./tophat.search","./tophat.services",11,12,"generateSearchElement","tophatSearch","./tophat.search.html",13,14,"generateServiceElement","cleanUp","serviceLinks","tophatServices","active","id","tophatServicesLinks","oldElement","removeChild","./tophat.services.html","./tophat.services.links","./tophat.services.links.html",15,16,"pathways","guidance","standards",17,"root","search","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","RegExp","test","html","wrapper","innerHTML"],"mappings":"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"}