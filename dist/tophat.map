{"version":3,"file":"tophat.js","sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","css","customDocument","doc","document","createStyleSheet","cssText","head","getElementsByTagName","style","createElement","type","styleSheet","appendChild","createTextNode","byUrl","url","link","rel","href",2,"getTophatConfig","config","tag","getTophatScriptTag","len","attributes","key","value","getAttribute","evidence","service","accountsUrl","generateAccountsUrl","legacy","isLegacy","currentScript","tags","src","toLowerCase","indexOf","env","environment","accountsDomain","accountsDomains","navigator","appName","ua","userAgent","re","RegExp","exec","parseFloat","$1","local",3,"/Users/matt/Documents/branches/NICE.Tophat/node_modules/cssify",4,"tophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","internal","tophatClassname","StateControl","forElement","attachTophatEvents","attachDomEvent","proxy","clickhandler","cancelhandler","trackingHandler","searchHandler","ev","target","srcElement","validateTrackedElement","className","undefined","parentNode","preventDefault","category","labelEl","utils","find","action","textContent","innerText","innerHTML","label","window","location","cleanClass","this","sendTrackedEvent","isTrackedElement","nodeName","validateTarget","mustIgnoreEvent","state","toggleEvidence","toggleProfile","toggleSearch","isValid","isTophatElement","unfocus","el","tophatEvent","replace","q","cb","_gaq","push","sendGAEvent","ga","sendUAEvent","console","log","setTimeout","data","hitCallback","fn","event","enhance","context","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","./tophat.states","./tophat.utils",5,6,"generateEvidenceElement","appendElement","create","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","active","links","isBeta","output","id","generateLink","join","tophatEvidenceLinks","title","beta","./tophat.evidence.html","./tophat.evidence.links","./tophat.evidence.links.html","./tophat.evidence.service.html",7,8,"search","bnf","bnfc","cks","journals",9,10,11,"generateGlobalElement","tophatGlobal","./tophat.global.html",12,"getTophatElement","classname","body","composeTophat","services","evidenceResources","globalMenu","prependElement","evidenceElement","globalElement","onTophatReady","./tophat.config.js","./tophat.css","./tophat.events","./tophat.evidence","./tophat.global","./tophat.profile","./tophat.search","./tophat.services",13,14,15,"generateProfileElement","profile","tophatProfileAnon","xhr","get","tophatProfileEndpoint","display_name","generateProfile","disableProfile","anonitem","profilenav","tophatProfileService","profileLink","setAttribute","thumbnail","menu","tophatProfile","insertBeforeElement","remove","lastChild","tophatProfileLinks","./tophat.profile.anon.html","./tophat.profile.html","./tophat.profile.links.html","./tophat.profile.service.html","./tophat.xhr",16,17,18,19,"generateSearchElement","tophatSearchService","params","parseQueryStringWithRegExp","view","tophatSearch","typeaheadtype","typeaheadsource","searchElement","addSearchToGlobal","searchForm","firstChild","decodeURIComponentExtended","decodeURIComponent","extendParam","obj","name","val","existing","query","match","substring","./tophat.search.html","./tophat.search.service.html",20,21,22,"generateServiceElement","cleanUp","serviceLinks","generateServiceBar","tophatServices","home","tophatServicesLinks","oldElement","removeChild","./tophat.services.html","./tophat.services.links","./tophat.services.links.html",23,24,"pathways","guidance","standards",25,"TophatStates","element","cleanClassname","getStateFromClassname","evidenceStateClassname","profileStateClassname","searchStateClassname","prototype","updateState",26,"root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","test","html","wrapper","parent","insertBefore","sibling",27,"resolve","script","Math","floor","random","done","onload","onreadystatechange","readyState","_na"],"mappings":"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"}