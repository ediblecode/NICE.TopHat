{"version":3,"sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","injectStyleTag","document","fileName","cb","style","getElementById","head","getElementsByTagName","createElement","id","appendChild","css","customDocument","doc","createStyleSheet","sheet","cssText","ownerNode","styleSheet","innerHTML","byUrl","url","link","rel","href","2","camelCaseAttribute","str","toLowerCase","replace","$1","toUpperCase","getTophatConfig","config","tag","getTophatScriptTag","len","attributes","key","value","getAttribute","evidence","service","accountsUrl","generateAccountsUrl","legacy","isLegacy","currentScript","tags","src","indexOf","env","environment","accountsDomain","accountsDomains","navigator","appName","ua","userAgent","re","RegExp","exec","parseFloat","local","3","search","label","title","bnf","bnfc","cks","journals","4","pathways","guidance","standards","5","tophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","internal","tophatClassname","StateControl","forElement","attachTophatEvents","attachDomEvent","proxy","clickhandler","cancelhandler","trackingHandler","searchHandler","ev","target","srcElement","validateTrackedElement","className","undefined","parentNode","category","labelEl","utils","find","action","textContent","innerText","window","location","cleanClass","this","preventDefault","sendTrackedEvent","isTrackedElement","nodeName","validateTarget","mustIgnoreEvent","blur","state","toggleEvidence","toggleProfile","toggleMobileMenu","isValid","isTophatElement","unfocus","el","tophatEvent","q","placeholder","term","escape","setTimeout","dataLayer","push","sendDataLayerEvent","_gaq","sendGAEvent","ga","sendUAEvent","logEventToConsole","data","event","eventCategory","eventAction","eventLabel","console","log","fn","enhance","context","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","../utils/dom","./states","6","TophatStates","element","classname","cleanClassname","getStateFromClassname","evidenceStateClassname","profile","profileStateClassname","mobile","mobileStateClassname","prototype","updateState","7","generateEvidenceElement","appendElement","create","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","active","links","isBeta","output","generateLink","join","tophatEvidenceLinks","beta","../config/evidence","../templates/evidence/links.html","../templates/evidence/menu.html","../templates/evidence/service.html","8","generateGlobalElement","tophatGlobal","../templates/global/menu.html","9","generateProfileElement","insertBeforeElement","tophatProfileAnon","xhr","get","tophatProfileEndpoint","wtrealm","display_name","generateProfile","generateAnonProfile","disableProfile","anonitem","profileLink","tophatProfileService","setAttribute","thumbnail","menu","tophatProfile","remove","lastChild","profilenav","tophatProfileLinks","../templates/profile/anon.html","../templates/profile/links.html","../templates/profile/menu.html","../templates/profile/service.html","../utils/xhr","10","generateSearchElement","globalElement","params","parseQueryStringWithRegExp","view","tophatSearch","typeaheadtype","typeaheadsource","searchPlaceholder","searchElement","addSearchToGlobal","searchForm","firstChild","decodeURIComponentExtended","decodeURIComponent","unescape","extendParam","obj","name","val","existing","query","match","substring","../templates/search/form.html","11","generateServiceElement","cleanUp","serviceLinks","generateServiceBar","services","tophatServices","home","tophatServicesLinks","oldElement","removeChild","../config/services","../templates/services/links.html","../templates/services/menu.html","12","13","14","15","16","17","18","19","20","21","22","23","inject","./../node_modules/cssify","24","getTophatElement","body","composeTophat","evidenceResources","globalMenu","prependElement","evidenceElement","onTophatReady","./config","./events","./evidence","./global","./profile","./search","./services","./tophat.css","./utils/dom","25","root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","test","html","wrapper","parent","insertBefore","sibling","26","resolve","script","Math","floor","random","done","onload","onreadystatechange","readyState","_na","./dom"],"mappings":";;;;CAKA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,IAAIK,GAAE,GAAIC,OAAM,uBAAuBN,EAAE,IAAK,MAAMK,GAAEE,KAAK,mBAAmBF,EAAE,GAAIG,GAAEX,EAAEG,IAAIS,WAAYb,GAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGS,QAAkD,IAAI,GAA1CL,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKa,GAAG,SAAST,EAAQU,EAAOJ,GACvd,YAEA,SAASK,GAAgBC,EAAUC,EAAUC,GAC3C,GAAIC,GAAQH,EAASI,eAAeH,EAEpC,IAAIE,EACFD,EAAGC,OACE,CACL,GAAIE,GAAOL,EAASM,qBAAqB,QAAQ,EAEjDH,GAAQH,EAASO,cAAc,SACf,MAAZN,IAAkBE,EAAMK,GAAKP,GACjCC,EAAGC,GACHE,EAAKI,YAAYN,GAGnB,MAAOA,GAGTL,EAAOJ,QAAU,SAAUgB,EAAKC,EAAgBV,GAC9C,GAAIW,GAAMD,GAAkBX,QAE5B,IAAIY,EAAIC,iBAAkB,CACxB,GAAIC,GAAQF,EAAIC,kBAEhB,OADAC,GAAMC,QAAUL,EACTI,EAAME,UAEb,MAAOjB,GAAea,EAAKX,EAAU,SAAUE,GAEzCA,EAAMc,WACRd,EAAMc,WAAWF,QAAUL,EAE3BP,EAAMe,UAAYR,KAM1BZ,EAAOJ,QAAQyB,MAAQ,SAAUC,GAE/B,GAAIpB,SAASa,iBACX,MAAOb,UAASa,iBAAiBO,GAAKJ,SAEtC,IAAIX,GAAOL,SAASM,qBAAqB,QAAQ,GAC7Ce,EAAOrB,SAASO,cAAc,OAMlC,OAJAc,GAAKC,IAAM,aACXD,EAAKE,KAAOH,EAEZf,EAAKI,YAAYY,GACVA,QAILG,GAAG,SAASpC,EAAQU,EAAOJ,GASjC,QAAS+B,GAAmBC,GAE1B,MAAOA,GAAIC,cAERC,QAAS,SAAU,KAEnBA,QAAS,WAAY,IAGrBA,QAAS,QAAS,SAASC,GAAM,MAAOA,GAAGC,gBAE3CF,QAAS,KAAM,IAGpB,QAASG,KACL,GAAIC,MAEAC,EAAMC,GACV,IAAID,EACA,IAAK,GAAI5C,GAAI,EAAG8C,EAAMC,EAAWxC,OAAQP,EAAI8C,EAAK9C,IAAM,CACpD,GAAIgD,GAAMD,EAAW/C,GACjBiD,EAAQL,EAAIM,aAAc,QAAUF,EAEnCC,IAAmB,KAAVA,IACVN,EAAQP,EAAmBY,IAASC,GAUhD,MALIN,GAAOQ,WAAUR,EAAOS,QAAU,YAEtCT,EAAOU,YAAcC,EAAqBX,GAC1CA,EAAOY,OAASC,IAETb,EAGX,QAASE,KACL,GAAID,GAAMjC,SAAS8C,aACnB,IAAIb,EAAK,MAAOA,EAIhB,KAAM,GAFFc,GAAO/C,SAASM,qBAAsB,UAEhCjB,EAAI,EAAG8C,EAAMY,EAAKnD,OAAQP,EAAI8C,EAAK9C,IAAM,CAC/C,GAAI2D,GAAMD,EAAK1D,GAAG2D,IAAIrB,aAEtB,KAAQqB,EAAIC,QAAQ,eAAmBD,EAAIC,QAAQ,iBAC/C,MAAOF,GAAK1D,IAKxB,QAASsD,GAAqBX,GAC1B,GAAIkB,IAAOlB,EAAOmB,aAAe,QAAQxB,cACrCyB,EAAiBC,EAAgBH,IAAQ,YAAuB,SAARA,EAAiBA,EAAM,IAAM,IAAO,sBAEhG,OAAOE,GAGX,QAASP,KAGL,GAA0B,+BAArBS,UAAUC,QAA2C,CACtD,GAAIC,GAAKF,UAAUG,UACfC,EAAM,GAAIC,QAAO,6BACrB,IAAqB,OAAhBD,EAAGE,KAAKJ,GACT,MAAmC,KAA5BK,WAAYF,OAAO9B,IAIlC,OAAO,EA9EX,GAAIO,IAAe,UAAW,WAAY,cAAe,YAAa,SAAU,qBAAsB,gBAAiB,kBAAmB,WAAY,OAAQ,WAE1JiB,GACAS,MAAS,wBA8EbhE,GAAOJ,QAAUqC,OAEXgC,GAAG,SAAS3E,EAAQU,EAAOJ,GACjCI,EAAOJ,SACHsE,QACIzC,KAAM,8BACN0C,MAAO,kBACPC,MAAO,mBAEXC,KACI5C,KAAM,oDACN0C,MAAO,MACPC,MAAO,8BAEXE,MACI7C,KAAM,qDACN0C,MAAO,OACPC,MAAO,2CAEXG,KACI9C,KAAM,0BACN0C,MAAO,MACPC,MAAO,gCAEXI,UACI/C,KAAM,oFACN0C,MAAO,yBACPC,MAAO,gCAITK,GAAG,SAASnF,EAAQU,EAAOJ,GACjCI,EAAOJ,SACH8E,UACIjD,KAAM,gCACN0C,MAAO,iBAEXQ,UACIlD,KAAM,mCACN0C,MAAO,iBAEXS,WACInD,KAAM,mDACN0C,MAAO,uCAITU,GAAG,SAASvF,EAAQU,EAAOJ,GAMjC,QAASkF,GAAc5E,EAAU6E,EAAeC,EAAgB9C,GAC5D+C,EAAM/E,EAASgF,iBAAmB,mBAAqB,cACvDC,EAASjF,EAASgF,iBAAmB,GAAK,KAEtChD,EAAOkD,WACPC,GAAmB,kBAGvBC,EAAaC,WAAYR,GAEzBS,EAAoBtF,EAAU6E,GAGlC,QAASS,GAAoBtF,EAAU6E,GACnCU,EAAgBV,EAAe,QAASW,EAAOX,EAAeY,IAC9DF,EAAgBvF,EAAU,QAASwF,EAAOX,EAAea,IACzDH,EAAgBV,EAAe,QAASW,EAAOX,EAAec,IAC9DJ,EAAgBV,EAAe,SAAUW,EAAOX,EAAee,IAQnE,QAASD,GAAiBE,GAGtB,IAFA,GAAIC,GAASD,EAAGC,QAAUD,EAAGE,YAEpBC,EAAwBF,IAAW,CAExC,IAAMA,EAAOG,UAAUhD,QAAS,eAAkB,CAC9C6C,EAASI,MACT,OAGJJ,EAASA,EAAOK,WAGpB,GAAI5E,GAAOuE,IAAYA,EAAOvE,MAAQuE,EAAOxF,qBAAqB,KAAK,GAAGiB,KAE1E,IAAKuE,GAAWvE,EAAhB,CAEA,GAAI6E,GAAW,SACXC,EAAYC,EAAMC,KAAMT,EAAQ,cAAe,IAAMA,EACrDU,EAASH,EAAQI,aAAeJ,EAAQK,WAAaL,EAAQnF,UAC7D+C,EAAQ0C,OAAOC,SAASrF,IAE5B,QAASsF,EAAYf,EAAOG,YACxB,IAAK,eACDO,EAAS,iBAAmBM,KAAKb,UAAUhD,QAAS6C,EAAOG,UAAY,SAAY,YAAc,eACjG1E,GAAO,CACP,MAEJ,KAAK,gBACL,IAAK,cACDiF,IAAYM,KAAKb,UAAUhD,QAAS6C,EAAOG,UAAY,SAAY,YAAc,cACjF1E,GAAO,EAIfsE,EAAGkB,iBAEHC,EAAkBZ,EAAUI,EAAQvC,EAAO,WACnC1C,IAAMoF,OAAOC,SAASrF,KAAOA,MAIzC,QAASyE,GAAwBF,GAC7B,GAAImB,GAAmBnB,GACmB,OAAlCA,EAAOoB,SAASvF,iBACbmE,EAAOG,UAAUhD,QAAS,WAAc6C,EAAOG,UAAUhD,QAAS,aAE7E,SAASgE,EAMb,QAASxB,GAAcI,GAGnB,IAFA,GAAIC,GAASD,EAAGC,QAAUD,EAAGE,WAErBoB,EAAgBrB,IAAW,CAE/B,IAAMA,EAAOG,UAAUhD,QAAS,eAAkB,CAC9C6C,EAASI,MACT,OAGJJ,EAASA,EAAOK,WAGpB,GAAIiB,KAAqBtB,KAAYA,EAAOG,UAAUhD,QAAS,eAC/D,KAAImE,EAMJ,OAJAvB,EAAGkB,kBAEFlB,EAAGC,QAAUD,EAAGE,YAAYsB,OAEpBR,EAAYf,EAAOG,YACxB,IAAK,gBACDa,KAAKQ,MAAMC,gBACX,MAEJ,KAAK,eACDT,KAAKQ,MAAME,eACX,MAEJ,KAAK,cACDV,KAAKQ,MAAMG,oBAKvB,QAASN,GAAgBrB,GACrB,GAAI4B,GAAU5B,KACJA,EAAOG,UAAUhD,QAAS,oBAC1B6C,EAAOG,UAAUhD,QAAS,kBAC1B6C,EAAOG,UAAUhD,QAAS,eAEpC,SAASyE,EAMb,QAAShC,GAAeG,GACpB,GAAIC,GAASD,EAAGC,QAAUD,EAAGE,UAExB4B,GAAiB7B,IAEtBgB,KAAKQ,MAAMM,UAGf,QAASD,GAAiBE,GAItB,IAHA,GAAIC,IAAc,EACdhC,EAAS+B,EAEL/B,GAAS,CACb,GAAKA,EAAOG,YAAcH,EAAOG,UAAUhD,QAAS,eAAkB,CAClE6E,GAAc,CACd,OAGJhC,EAASA,EAAOK,WAGpB,MAAO2B,GAMX,QAASlC,GAAeC,GACpB,GAAIC,GAASD,EAAGC,QAAUD,EAAGE,UAE7B,IAAKD,EAAOG,YAAcH,EAAOG,UAAUhD,QAAS,iBAC3C6C,EAAOU,OAAOxC,OAAQ,iBAAoB8B,EAAOiC,EAAI,CAE1D,GAAIC,GAAclC,EAAOiC,EAAExF,aAAa,eACpCwF,EAAIjC,EAAOiC,EAAEzF,MACb2F,EAASF,IAAMC,EAAgBE,OAAQH,EAAEnG,QAAQ,MAAO,MAAS,GACjEgF,EAAWd,EAAOU,OAAO5E,QAAQ,eAAgBqG,EAErDjB,GAAkB,SAAUiB,EAAMrB,EAAU,WACxCD,OAAOC,SAASrF,KAAOqF,IAG3Bf,EAAGkB,kBASX,QAASC,GAAkBZ,EAAUI,EAAQvC,EAAO/D,GAKhD,MAJIA,IACAyG,OAAOwB,WAAYjI,EAAI,IAGtByG,OAAOyB,WAA8C,kBAA1BzB,QAAOyB,UAAUC,KACxCC,EAAoBlC,EAAUI,EAAQvC,GAG1C0C,OAAO4B,MAAoC,kBAArB5B,QAAO4B,KAAKF,KAC9BG,EAAapC,EAAUI,EAAQvC,GAGd,kBAAd0C,QAAO8B,GACRC,EAAatC,EAAUI,EAAQvC,OAG1C0E,GAAmBvC,EAAUI,EAAQvC,GAGzC,QAASqE,GAAoBlC,EAAUI,EAAQvC,GAC7C,GAAI2E,IACFC,MAAO,UACPC,cAAe1C,EACf2C,YAAavC,EACbwC,WAAY/E,EAGd0C,QAAOyB,UAAUC,KAAMO,GAGzB,QAASJ,GAAapC,EAAUI,EAAQvC,GACpC,GAAI2E,IAAS,cAAexC,EAAUI,EAAQvC,EAE9C0C,QAAO4B,KAAKF,KAAMO,GAGtB,QAASF,GAAatC,EAAUI,EAAQvC,GACpC,GAAI2E,IACAxC,SAAUA,EACVI,OAAQA,EACRvC,MAAOA,EAGX0C,QAAO8B,GAAI,OAAQ,QAASG,GAGhC,QAASD,GAAmBvC,EAAUI,EAAQvC,GAC1C,GAAIgF,GAAUtC,OAAOsC,OAEhBA,IAAWA,EAAQC,KACpBD,EAAQC,IAAK,QAAS9C,EAAUI,EAAQvC,GAShD,QAAS4C,GAAYZ,GACjB,MAAOA,GAAUrE,QAAQ,UAAW,IAGxC,QAAS2D,GAAgBsC,EAAIhC,EAAIsD,GAC7BtB,EAAG9C,GAAME,EAASY,EAAI,SAAUgD,GAAUM,EAAIC,EAASP,MAAc,GA0BzE,QAASrD,GAAO6D,EAASF,GACrB,MAAO,UAAUtD,GACbsD,EAAGxJ,KAAM0J,EAASxD,IAI1B,QAASuD,GAASP,GACd,GAAIS,GAAmBT,EAAMU,gBACzBC,EAAkBX,EAAM9B,cAsB5B,OApBA8B,GAAMU,gBAAkB,WAOpB,MANID,GACAA,EAAiB3J,KAAMkJ,GAEvBA,EAAMY,cAAe,EAGlBZ,GAGXA,EAAM9B,eAAiB,WAOnB,MANIyC,GACAA,EAAgB7J,KAAMkJ,GAEtBA,EAAMa,aAAc,EAGjBb,GAGJA,EA9SX,GAGI9D,GAAKE,EAHLqB,EAAQlH,EAAQ,gBAChBgG,EAAehG,EAAQ,YACvB+F,EAAkB,aAkTtBrF,GAAOJ,QAAUkF,IAEd+E,eAAe,GAAGC,WAAW,IAAIC,GAAG,SAASzK,EAAQU,EAAOJ,GAK/D,QAASoK,GAAcjC,GACnBf,KAAKiD,QAAUlC,EACff,KAAKkD,UAAYC,EAAgBpC,EAAG5B,WAEpCa,KAAK8B,KAAOsB,EAAuBrC,EAAG5B,WAEtC4B,EAAGP,MAAQR,KAGf,QAASoD,GAAuBF,GAC5B,OACQxH,UAAWwH,EAAU/G,QAAQkH,GAC7BC,SAAUJ,EAAU/G,QAAQoH,GAC5BC,QAASN,EAAU/G,QAAQsH,IAIvC,QAASN,GAAgBD,GACrB,MAAOA,GACFpI,QAAS,IAAMuI,EAAwB,IACvCvI,QAAS,IAAMyI,EAAuB,IACtCzI,QAAS,IAAM2I,EAAsB,IAzB9C,GAAIJ,GAAyB,qBACzBE,EAAwB,oBACxBE,EAAuB,kBA0B3BT,GAAaU,WAETC,YAAa,WACT,GAAIT,GAAYlD,KAAKkD,WACflD,KAAK8B,KAAKpG,SAAW,IAAM2H,EAAyB,KACpDrD,KAAK8B,KAAKwB,QAAU,IAAMC,EAAwB,KAClDvD,KAAK8B,KAAK0B,OAAS,IAAMC,EAAuB,GAEtDzD,MAAKiD,QAAQ9D,UAAY+D,GAG7BzC,eAAgB,WACZT,KAAK8B,KAAKpG,UAAYsE,KAAK8B,KAAKpG,SAC5BsE,KAAK8B,KAAKpG,WACVsE,KAAK8B,KAAKwB,SAAU,EACpBtD,KAAK8B,KAAK0B,QAAS,GAEvBxD,KAAK2D,eAGTjD,cAAe,WACXV,KAAK8B,KAAKwB,SAAWtD,KAAK8B,KAAKwB,QAC3BtD,KAAK8B,KAAKwB,UACVtD,KAAK8B,KAAK0B,QAAS,EACnBxD,KAAK8B,KAAKpG,UAAW,GAEzBsE,KAAK2D,eAGThD,iBAAkB,WACdX,KAAK8B,KAAK0B,QAAUxD,KAAK8B,KAAK0B,OAC1BxD,KAAK8B,KAAK0B,SACVxD,KAAK8B,KAAKwB,SAAU,EACpBtD,KAAK8B,KAAKpG,UAAW,GAEzBsE,KAAK2D,eAGT7C,QAAS,WACLd,KAAK8B,KAAKwB,SAAU,EACpBtD,KAAK8B,KAAK0B,QAAS,EACnBxD,KAAK8B,KAAKpG,UAAW,EACrBsE,KAAK2D,gBAKb3K,EAAOJ,SACH2F,WAAY,SAAUwC,GAClB,GAAIiC,GAAcjC,UAIpB6C,GAAG,SAAStL,EAAQU,EAAOJ,GAOjC,QAASiL,GAAyB9F,EAAeC,EAAgB9C,GAC7D,IAAIA,EAAOkD,SAAX,CAEAoB,EAAMsE,cAAetE,EAAMuE,OAAQC,GAAyBxE,EAAMC,KAAMzB,EAAgB,QAAS,GAEjG,IAAIiG,GAAWC,EAAkBC,EAAsC,SAAvBjJ,EAAOmB,aAEnD0E,EAAKvB,EAAMuE,OAAQK,EAAetJ,QAAS,WAAYmJ,GAE3D,IAAK/I,EAAOQ,SAAW,CACnB,GAAI2I,GAAS7E,EAAMC,KAAMsB,EAAI,YAAc7F,EAAOQ,UAAW,EAC7D2I,GAAOlF,UAAYkF,EAAOlF,UAAY,UAG1C,MAAO4B,IAGX,QAASmD,GAAkBI,EAAOC,GAC9B,GAAIC,KACJ,KAAM,GAAI9K,KAAM4K,GAAQ,CACpB,GAAI/J,GAAO+J,EAAO5K,EAElB8K,GAAOjD,KAAMkD,EAAc/K,EAAIa,EAAMgK,IAGzC,MAAOC,GAAOE,KAAM,IAGxB,QAASD,GAAc/K,EAAIa,EAAMgK,GAC7B,GAAIC,GAASG,EACN7J,QAAS,WAAYpB,GACrBoB,QAAS,cAAeP,EAAK4C,OAC7BrC,QAAS,cAAeP,EAAK6C,OAC7BtC,QAAS,cAAgByJ,EAAShK,EAAKqK,KAAOxF,SAAe7E,EAAKE,KAEzE,OAAO+J,GAzCX,GAAIhF,GAAQlH,EAAQ,gBAChB6L,EAAgB7L,EAAQ,sBACxB8L,EAAiB9L,EAAQ,mCACzB0L,EAAwB1L,EAAQ,sCAChCqM,EAAsBrM,EAAQ,mCAwClCU,GAAOJ,QAAUiL,IAEdgB,qBAAqB,EAAEC,mCAAmC,GAAGC,kCAAkC,GAAGC,qCAAqC,GAAGnC,eAAe,KAAKoC,GAAG,SAAS3M,EAAQU,EAAOJ,GAI5L,QAASsM,GAAuBnH,GAC5B,GAAIgD,GAAKvB,EAAMC,KAAM1B,EAAe,eAAgB,EAMpD,OAJKgD,KACDA,EAAKvB,EAAMuE,OAAQoB,IAGhBpE,EAVX,GAAIvB,GAAQlH,EAAQ,gBAChB6M,EAAe7M,EAAQ,gCAY3BU,GAAOJ,QAAUsM,IAEdE,gCAAgC,GAAGvC,eAAe,KAAKwC,GAAG,SAAS/M,EAAQU,EAAOJ,GASrF,QAAS0M,GAAwBvH,EAAeC,EAAgB9C,GACrC,SAAnBA,EAAOoI,UAEX9D,EAAM+F,oBAAqB/F,EAAMuE,OAAQyB,EAAkB1K,QAAQ,WAAYI,EAAOU,cAAgB4D,EAAMC,KAAMzB,EAAgB,QAAS,IAE3IyH,EAAIC,IAAKxK,EAAOU,YAAc+J,GAA0BzK,EAAO0K,QAAU,YAAc1K,EAAO0K,QAAU,IAAM,SAAU9D,GACpH,MAAKA,GAKDA,EAAK+D,iBACLC,GAAiB/H,EAAe+D,OAIpCiE,GAAqBhI,EAAe+D,OATlCkE,GAAgBjI,MAa1B,QAAS+H,GAAiB/E,EAAIuC,GAC5B,GAAI2C,GAAWzG,EAAMC,KAAMsB,EAAI,kBAAmB,GAC9CmF,EAAc1G,EAAMuE,OAAQoC,EAEhCD,GAAYE,aAAc,QAAS9C,EAAQuC,cACvCvC,EAAQ+C,WAAa/C,EAAQ+C,UAAUvN,SACzCoN,EAAY9L,UAAY,aAAckJ,EAAQ+C,UAAW,uDAG3D,IAAIpC,GAAWC,EAAkBZ,EAAQgB,OACrCgC,EAAO9G,EAAMuE,OAAQwC,EAAczL,QAAS,WAAYmJ,GAE5DzE,GAAM+F,oBAAqBW,EAAaD,GACxCzG,EAAMgH,OAAQP,GACdzG,EAAM+F,oBAAqBe,EAAMvF,EAAG0F,WAGtC,QAASV,GAAqBhF,EAAIuC,GAChC,GAAI4C,GAAc1G,EAAMC,KAAMsB,EAAI,kBAAmB,EAEjDuC,GAAQgB,OAAShB,EAAQgB,MAAM,YACjC4B,EAAYE,aAAc,OAAQ9C,EAAQgB,MAAM,YAIpD,QAAS0B,GAAgBjF,GACrB,GAAI2F,GAAalH,EAAMC,KAAMsB,EAAI,gBAAiB,EAClDvB,GAAMgH,OAAQE,GAGlB,QAASxC,GAAkBI,GACvB,GAAIE,KACJ,KAAM,GAAIrH,KAASmH,GAAQ,CACvB,GAAI7J,GAAO6J,EAAOnH,EAElBqH,GAAOjD,KAAMkD,EAActH,EAAO1C,IAGtC,MAAO+J,GAAOE,KAAM,IAGxB,QAASD,GAActH,EAAO1C,GAC1B,GAAI+J,GAASmC,EACR7L,QAAS,cAAeqC,GACxBrC,QAAS,aAAcL,EAE5B,OAAO+J,GA1EX,GAAIhF,GAAQlH,EAAQ,gBAChBmN,EAAMnN,EAAQ,gBACdiO,EAAgBjO,EAAQ,kCACxB6N,EAAuB7N,EAAQ,qCAC/BkN,EAAoBlN,EAAQ,kCAC5BqO,EAAqBrO,EAAQ,mCAC7BqN,EAAwB,SAuE5B3M,GAAOJ,QAAU0M,IAEdsB,iCAAiC,GAAGC,kCAAkC,GAAGC,iCAAiC,GAAGC,oCAAoC,GAAGlE,eAAe,GAAGmE,eAAe,KAAKC,IAAI,SAAS3O,EAAQU,EAAOJ,GAIzN,QAASsO,GAAuBC,EAAenJ,EAAgB9C,GAC3D,GAAKA,EAAOgC,OAAZ,CAEA,GAAIkK,GAASC,EAA4BxH,OAAOC,SAAS5C,QAErDoK,EAAOC,EACNzM,QAAQ,aAAc,OACtBA,QAAQ,aAAcI,EAAOgC,OAAOpC,QAAS,KAAM,WACnDA,QAAQ,oBAAqBI,EAAOsM,eAAiB,IACrD1M,QAAQ,sBAAuBI,EAAOuM,iBAAmB,IACzD3M,QAAQ,kBAAmBI,EAAOwM,mBAAqB,aACvD5M,QAAQ,SAAUsM,EAAOnG,GAAK,IAAInG,QAAS,KAAM,WAElD6M,EAAgBnI,EAAMuE,OAAQuD,EAIlC,OAFAM,GAAmBT,EAAeQ,GAE3BA,GAGX,QAASC,GAAmB7G,EAAI8G,GAC5B,GAAIvB,GAAO9G,EAAMC,KAAMsB,EAAI,QAAS,EAEpC,OAAIuF,GACO9G,EAAM+F,oBAAqBsC,EAAYvB,OAGpD9G,GAAMsE,cAAe+D,EAAY9G,EAAG+G,YAItC,QAASC,GAA6B7P,GAClC,MAAO8P,oBAAoBC,UAAW/P,GAAK,IAAI4C,QAAS,MAAO,OAGnE,QAASoN,GAAaC,EAAKC,EAAMC,GAC7B,GAAI9M,GAAMwM,EAA4BK,GAClC5M,EAAQuM,EAA4BM,GACpCC,EAAWH,EAAI5M,EAEnB,OAAyB,mBAAb+M,QACRH,EAAI5M,GAAOC,IAIU,gBAAb8M,IAA0BA,EAASxP,SAC3CqP,EAAI5M,IAAS+M,QAGjBH,GAAI5M,GAAKgG,KAAM/F,IAInB,QAAS6L,GAA4BkB,GAOnC,IANA,GAAIC,GACAtL,EAAS,qBAETkK,EAASmB,EAAME,UAAU,GACzBN,KAEKK,EAAQtL,EAAOJ,KAAMsK,IAC3Bc,EAAaC,EAAKK,EAAM,GAAIA,EAAM,GAGrC,OAAOL,GAnET,GAAI3I,GAAQlH,EAAQ,gBAChBiP,EAAejP,EAAQ,gCAsE3BU,GAAOJ,QAAUsO,IAEdwB,gCAAgC,GAAG7F,eAAe,KAAK8F,IAAI,SAASrQ,EAAQU,EAAOJ,GAMtF,QAASgQ,GAAwB7K,EAAe7C,GAC5C2N,EAAS9K,EAET,IAAIuI,GAAO,EAKX,OAJKpL,GAAOkD,WACRkI,EAAOpC,EAAkB4E,EAAqC,SAAvB5N,EAAOmB,cAG3C0M,EAAoBzC,EAAMpL,GAGrC,QAAS6N,GAAoBzC,EAAMpL,GAC/B,GAAI8N,GAAWC,EACNnO,QAAS,WAAYwL,GACrBxL,QAAS,eAAgBI,EAAOgO,MAAQ,0BAE7CnI,EAAKvB,EAAMuE,OAAQiF,EAMvB,OAJI9N,GAAOkD,WACPoB,EAAMC,KAAMsB,EAAI,QAAQ,GAAGvH,qBAAsB,SAAU,GAAGY,UAAYc,EAAOkD,UAG9E2C,EAGX,QAASmD,GAAkBI,EAAOC,GAC9B,GAAIC,KACJ,KAAM,GAAI9K,KAAM4K,GAAQ,CACpB,GAAI/J,GAAO+J,EAAM5K,EAEjB8K,GAAOjD,KAAMkD,EAAc/K,EAAIa,EAAMgK,IAGzC,MAAOC,GAAOE,KAAM,IAGxB,QAASD,GAAc/K,EAAIa,EAAMgK,GAC7B,GAAIC,GAAS2E,EACNrO,QAAS,WAAYpB,GACrBoB,QAAS,cAAeP,EAAK4C,OAC7BrC,QAAS,cAAeP,EAAK6C,OAC7BtC,QAAS,cAAgByJ,EAAShK,EAAKqK,KAAOxF,SAAe7E,EAAKE,KAEzE,OAAO+J,GAGX,QAASqE,GAAS9K,GACd,GAAIqL,GAAa5J,EAAMC,KAAM1B,EAAe,iBAAkB,EAE1DqL,IACAA,EAAW/J,WAAWgK,YAAaD,GAvD3C,GAAI5J,GAAQlH,EAAQ,gBAChBwQ,EAAexQ,EAAQ,sBACvB2Q,EAAiB3Q,EAAQ,mCACzB6Q,EAAsB7Q,EAAQ,mCAwDlCU,GAAOJ,QAAUgQ,IAEdU,qBAAqB,EAAEC,mCAAmC,GAAGC,kCAAkC,GAAG3G,eAAe,KAAK4G,IAAI,SAASnR,EAAQU,EAAOJ,GACrJI,EAAOJ,QAAU,+HACX8Q,IAAI,SAASpR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,sKACX+Q,IAAI,SAASrR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,iKACXgR,IAAI,SAAStR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,wFACXiR,IAAI,SAASvR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,oEACXkR,IAAI,SAASxR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,iDACXmR,IAAI,SAASzR,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,wHACXoR,IAAI,SAAS1R,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,6FACXqR,IAAI,SAAS3R,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,whBACXsR,IAAI,SAAS5R,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,yGACXuR,IAAI,SAAS7R,EAAQU,EAAOJ,GAClCI,EAAOJ,QAAU,iSACXwR,IAAI,SAAS9R,EAAQU,EAAOJ,GAClC,GAAIyR,GAAS/R,EAAQ,4BACjBsB,EAAM,4/fACVyQ,GAAOzQ,EAAKwF,OAAW,WACvBpG,EAAOJ,QAAUgB,IAEd0Q,2BAA2B,IAAIC,IAAI,SAASjS,EAAQU,EAAOJ,GAkD9D,QAAS4R,GAAkBtH,EAAWhI,GACpC,GAAI6F,GAAKvB,EAAMC,KAAMgL,EAAMvH,GAAY,EASvC,OARKnC,KACDA,EAAKvB,EAAMuE,OAAO,6BAA8Bb,EAAW,aAG/DnC,EAAG5B,UAAY+D,GACThI,EAAOkD,SAAW,iBAAmB,KACrClD,EAAOY,OAAS,iBAAmB,IAElCiF,EAGT,QAAS2J,GAAe3J,EAAIiI,EAAU2B,EAAmBC,EAAY1P,GAKjE,GAJAsE,EAAMsE,cAAekF,EAAUjI,GAC3B4J,GAAmBnL,EAAMsE,cAAe6G,EAAmB5J,GAC3D6J,GAAYpL,EAAMsE,cAAe8G,EAAY7J,GAE5C7F,EAAOS,QAAU,CAClB,GAAIwD,GAAY,QAAUjE,EAAOS,QAC7B0I,EAAS7E,EAAMC,KAAMsB,EAAI5B,GAAY,EACzCkF,GAAOlF,WAAa,UACpB4B,EAAG5B,WAAa,IAAMA,EAAY,UAItCK,EAAMqL,eAAgB9M,EAAe0M,GA1EzCnS,EAAQ,eAGR,IAAIkH,GAAQlH,EAAQ,eAChBmS,EAAOvR,SAASuR,KAEhBvP,EAAS5C,EAAQ,cAGjByF,EAAgByM,EAAkB,cAAetP,GAGjD8C,EAAiB1F,EAAQ,cAAeyF,EAAe7C,GAGvD4P,EAAkBxS,EAAQ,cAAeyF,EAAeC,EAAgB9C,EAG5E5C,GAAQ,aAAcyF,EAAeC,EAAgB9C,EAGrD,IAAIiM,GAAgB7O,EAAQ,YAAayF,EAGrBzF,GAAQ,YAAa6O,EAAenJ,EAAgB9C,EAQxEwP,GAAe3M,EAAeC,EAAgB8M,EAAiB3D,EAAejM,GAG9E5C,EAAQ,YAAaY,SAAU6E,EAAeC,EAAgB9C,GAG1DhC,SAAS6R,eACT7R,SAAS6R,kBAsCVC,WAAW,EAAEC,WAAW,EAAEC,aAAa,EAAEC,WAAW,EAAEC,YAAY,EAAEC,WAAW,GAAGC,aAAa,GAAGC,eAAe,GAAGC,cAAc,KAAKC,IAAI,SAASnT,EAAQU,EAAOJ,GACtK,GAAI4G,KAEJA,GAAMC,KAAO,SAAUiM,EAAMxO,GAMzB,QAASyO,GAA8BD,EAAMxO,GACzC,MAAOwO,GAAKE,uBAAuB1O,GAGvC,QAAS2O,GAA+BH,EAAMxO,GAC1C,GAAc4O,GAAUC,EAASxT,EAA7ByT,EAAIN,EAA4BO,IAEpC,IAAIP,EAAKQ,iBACL,MAAOR,GAAKQ,iBAAiB,IAAMhP,EAGvC,IAAIwO,EAAKS,SAIL,IAHAJ,EAAU,6CAA+C7O,EAAS,OAClE4O,EAAWJ,EAAKS,SAASJ,EAASC,EAAG,KAAM,EAAG,MAEtCzT,EAAIuT,EAASM,eACjBH,EAAQ1K,KAAKhJ,OAEd,CACHuT,EAAWJ,EAAKlS,qBAAqB,KACrCuS,EAAU,GAAIlP,QAAO,UAAYK,EAAS,UAE1C,IAAI7B,GAAMyQ,EAAShT,MACnB,KAAKP,EAAI,EAAGA,EAAI8C,EAAK9C,IACZwT,EAAQM,KAAKP,EAASvT,GAAG4G,YAC1B8M,EAAQ1K,KAAKuK,EAASvT,IAKlC,MAAO0T,GAnCX,GAAIxM,GAAOvG,SAAS0S,uBAAyBD,EAA+BE,CAG5E,OAFArM,GAAMC,KAAOA,EAENA,EAAMiM,EAAMxO,IAoCvBsC,EAAMuE,OAAS,SAAUuI,GACrB,KAAMA,EAAKnQ,QAAQ,KACf,MAAOjD,UAASO,cAAe6S,EAGnC,IAAIC,GAAUrT,SAASO,cAAc,MAIrC,OAFA8S,GAAQnS,UAAYkS,EAEbC,EAAQzE,YAGnBtI,EAAMgH,OAAS,SAAUvD,GACrBA,EAAQ5D,WAAWgK,YAAapG,IAGpCzD,EAAMqL,eAAiB,SAAU5H,EAASuJ;AACtCA,EAAOC,aAAcxJ,EAASuJ,EAAO1E,aAGzCtI,EAAM+F,oBAAsB,SAAUtC,EAASyJ,GAC3C,GAAIF,GAASE,EAAQrN,UAErBmN,GAAOC,aAAcxJ,EAASyJ,IAGlClN,EAAMsE,cAAgB,SAAUb,EAASuJ,GACrCA,EAAO7S,YAAasJ,IAGxBjK,EAAOJ,QAAU4G,OAEXmN,IAAI,SAASrU,EAAQU,EAAOJ,GAClC,GAAI4G,GAAQlH,EAAQ,SAChBmN,IAEJA,GAAIC,IAAM,SAAUpL,EAAKsS,GACrB,GAAInC,GAAOvR,SAASuR,KAChBoC,EAAS3T,SAASO,cAAc,SACpCoT,GAAO3Q,IAAM5B,IAASA,EAAI6B,QAAQ,KAAO,IAAM,KAAQ2Q,KAAKC,MAAsB,KAAhBD,KAAKE,SAGvE,IAAIC,IAAO,CAGXJ,GAAOK,OAASL,EAAOM,mBAAqB,WAClCF,GAAUjN,KAAKoN,YAAkC,WAApBpN,KAAKoN,YAA+C,aAApBpN,KAAKoN,aACpEH,GAAO,EACPL,EAAS/M,OAAOwN,KAGhBR,EAAOK,OAASL,EAAOM,mBAAqB,KACvC1C,GAAQoC,EAAOxN,YAChBoL,EAAKpB,YAAawD,KAK9BrN,EAAMqL,eAAgBgC,EAAQpC,IAGlCzR,EAAOJ,QAAU6M,IAEd6H,QAAQ,UAAU","file":"tophat.js"}