{"version":3,"sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","injectStyleTag","document","fileName","cb","style","getElementById","head","getElementsByTagName","createElement","id","appendChild","css","customDocument","doc","createStyleSheet","sheet","cssText","ownerNode","styleSheet","innerHTML","byUrl","url","link","rel","href","2","factory","registeredInModuleLoader","define","amd","OldCookies","window","Cookies","api","noConflict","extend","result","arguments","attributes","key","init","converter","value","path","defaults","expires","Date","setMilliseconds","getMilliseconds","JSON","stringify","test","write","encodeURIComponent","String","replace","decodeURIComponent","escape","cookie","toUTCString","domain","secure","join","cookies","split","rdecode","parts","slice","charAt","name","read","this","json","parse","set","get","getJSON","apply","remove","withConverter","3","camelCaseAttribute","str","toLowerCase","$1","toUpperCase","getTophatConfig","config","tag","getTophatScriptTag","len","getAttribute","evidence","service","accountsUrl","generateAccountsUrl","legacy","isLegacy","currentScript","tags","src","env","environment","accountsDomain","accountsDomains","navigator","appName","ua","userAgent","re","RegExp","exec","parseFloat","local","generatedConfig","4","search","label","title","bnf","bnfc","cks","journals","5","pathways","guidance","standards","6","generateCookieElement","tophatElement","CookieKey","CookieValue","setCookie","viewModel","getViewModel","view","cookieTemplate","policyUrl","message","cookieElement","utils","create","attachDomEvent","proxy","closeHandler","cookieUrl","DefaultPolicyUrl","htmlEncode","cookieMessage","DefaultMessage","ev","target","srcElement","className","indexOf","undefined","parentNode","closeMessage","setAttribute","opts","location","hostname","getCookieDomain","host","../templates/cookie/message.html","../utils/dom","js-cookie","7","tophatEvents","StateControl","forElement","attachTophatEvents","domUtils","clickhandler","cancelhandler","trackingHandler","searchHandler","keyHandler","fps","wait","Math","round","throttle","resizeHandler","keyCode","which","parentMenuEl","closestWithClass","menuIdsWithinScope","getContainerIds","state","data","mobile","KeysDict","enter","space","left","up","getPreviousLink","focus","right","down","getNextLink","home","getLinks","end","links","enhanceEvent","preventDefault","unfocus","controllerLinkId","setAriaStates","validateTrackedElement","category","labelEl","find","action","textContent","innerText","cleanClass","sendTrackedEvent","isTrackedElement","nodeName","validateTarget","mustIgnoreEvent","blur","elementId","toggleEvidence","focusOnMenu","toggleProfile","toggleMobileMenu","controllerId","controls","getIdsOfControlledContainers","firstControlledContainer","menu","querySelectorAll","isValid","isTophatElement","el","tophatEvent","q","placeholder","term","setTimeout","dataLayer","push","sendDataLayerEvent","_gaq","sendGAEvent","ga","sendUAEvent","event","eventCategory","eventAction","eventLabel","../utils/dom/getContainerIds","./states","8","TophatStates","element","classname","cleanClassname","getStateFromClassname","evidenceBtn","mobileMenuBtn","profileBtn","evidenceMenu","mainMenu","evidenceStateClassname","profile","profileStateClassname","mobileStateClassname","prototype","updateState","toggleAriaAttributes","btn","isBtnActive","subMenu","isMobileDevice","matchMedia","matches","removeAttribute","../config","9","generateEvidenceElement","serviceElement","internal","appendElement","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","active","isBeta","output","generateLink","tophatEvidenceLinks","beta","../config/evidence","../templates/evidence/links.html","../templates/evidence/menu.html","../templates/evidence/service.html","10","generateGlobalElement","tophatGlobal","../templates/global/menu.html","11","generateProfileElement","insertBeforeElement","tophatProfileAnon","xhr","tophatProfileEndpoint","wtrealm","display_name","generateProfile","generateAnonProfile","disableProfile","anonitem","profileLink","tophatProfileService","thumbnail","tophatProfile","lastChild","profilenav","tophatProfileLinks","../templates/profile/anon.html","../templates/profile/links.html","../templates/profile/menu.html","../templates/profile/service.html","../utils/xhr","12","generateSearchElement","globalElement","params","parseQueryStringWithRegExp","tophatSearch","typeaheadtype","typeaheadsource","searchPlaceholder","searchElement","addSearchToGlobal","searchForm","firstChild","decodeURIComponentExtended","unescape","extendParam","obj","val","existing","query","match","substring","../templates/search/form.html","13","generateServiceElement","cleanUp","serviceLinks","generateServiceBar","services","tophatServices","tophatServicesLinks","oldElement","removeChild","../config/services","../templates/services/links.html","../templates/services/menu.html","14","15","16","17","18","19","20","21","22","23","24","25","26","inject","./../node_modules/cssify","27","getTophatElement","body","composeTophat","evidenceResources","globalMenu","prependElement","evidenceElement","onTophatReady","./config","./cookie","./events","./evidence","./global","./profile","./search","./services","./tophat.css","./utils/dom","./vendor/matchMedia","28","isNavigable","hasAttribute","classList","contains","wrapToEnd","index","skipDisabledLinks","skipDirectionInt","containersArray","currentLink","currentIndex","previousIndex","nextIndex","elId","elControls","getControllingElementId","isMobile","labelledBy","controllingEl","nextControllingEl","containerIds","x","container","linksInContainerX","toArray","concat","htmlCollection","parent","func","options","context","args","timeout","previous","later","leading","getTime","now","remaining","clearTimeout","trailing","fn","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","eventName","callbackFn","add","addEventListener","prefix","root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","evaluate","iterateNext","html","wrapper","insertBefore","sibling","createTextNode","Array","elt","from","Number","ceil","floor","29","elControllingParentMenu","30","resolve","script","random","done","onload","onreadystatechange","readyState","_na","./dom","31","styleMedia","media","info","type","getComputedStyle","currentStyle","matchMedium","text","width"],"mappings":"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","file":"tophat.min.js"}