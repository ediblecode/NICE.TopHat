{"version":3,"file":"tophat.js","sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","css","customDocument","doc","document","createStyleSheet","cssText","head","getElementsByTagName","style","createElement","type","styleSheet","appendChild","createTextNode","byUrl","url","link","rel","href",2,"getTophatConfig","config","tag","getTophatScriptTag","len","attributes","key","value","getAttribute","evidence","service","accountsDomain","accountsDomains","environment","accountsUrl","currentScript","tags","src","indexOf","local",3,"/Users/matt/Documents/branches/NICE.Tophat/node_modules/cssify",4,"tophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","internal","tophatClassname","StateControl","forElement","attachTophatEvents","fireDomEvent","attachDomEvent","proxy","clickhandler","cancelhandler","trackingHandler","ev","target","srcElement","validateTrackedElement","className","undefined","parentNode","enhance","preventDefault","category","labelEl","utils","find","action","textContent","innerText","innerHTML","label","window","location","this","sendTrackedEvent","isTrackedElement","nodeName","toLowerCase","validateTarget","mustIgnoreEvent","state","toggleEvidence","toggleProfile","toggleSearch","isValid","isTophatElement","unfocus","el","tophatEvent","cb","_gaq","push","sendGAEvent","ga","sendUAEvent","console","log","setTimeout","data","hitCallback","fn","event","evt","createEventObject","pram","param","fireEvent","createEvent","initEvent","dispatchEvent","context","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","./tophat.states","./tophat.utils",5,6,"generateEvidenceElement","appendElement","create","tophatEvidenceService","linklist","generateLinkList","evidenceLinks","tophatEvidence","replace","active","links","isBeta","output","id","generateLink","join","tophatEvidenceLinks","title","beta","./tophat.evidence.html","./tophat.evidence.links","./tophat.evidence.links.html","./tophat.evidence.service.html",7,8,"search","bnf","bnfc","cks","journals",9,10,11,"generateGlobalElement","tophatGlobal","./tophat.global.html",12,"getTophatElement","classname","body","composeTophat","services","evidenceResources","globalMenu","prependElement","evidenceElement","globalElement","./tophat.config.js","./tophat.css","./tophat.events","./tophat.evidence","./tophat.global","./tophat.profile","./tophat.search","./tophat.services",13,14,"generateProfileElement","profile","tophatProfileService","xhr","get","onGetProfileResult","disableProfile","display_name","generateProfile","generateAnonymous","profilenav","profileLink","setAttribute","thumbnail","menu","tophatProfile","insertBeforeElement","lastChild","tophatProfileLinks","./tophat.profile.html","./tophat.profile.links.html","./tophat.profile.service.html","./tophat.xhr",15,16,17,18,"generateSearchElement","tophatSearchService","view","tophatSearch","typeaheadtype","typeaheadsource","searchElement","addSearchToGlobal","searchForm","firstChild","./tophat.search.html","./tophat.search.service.html",19,20,21,"generateServiceElement","cleanUp","serviceLinks","generateServiceBar","tophatServices","home","tophatServicesLinks","oldElement","removeChild","./tophat.services.html","./tophat.services.links","./tophat.services.links.html",22,23,"pathways","guidance","standards",24,"TophatStates","element","prototype","updateState",25,"root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","RegExp","test","html","wrapper","parent","insertBefore","sibling",26,"resolve","documentElement","script","Math","floor","random","done","onload","onreadystatechange","readyState","_na"],"mappings":"CAAA,QAAUA,GAAEC,EAAEC,EAAEC,GAAG,QAASC,GAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,GAAIE,GAAkB,kBAATC,UAAqBA,OAAQ,KAAIF,GAAGC,EAAE,MAAOA,GAAEF,GAAE,EAAI,IAAGI,EAAE,MAAOA,GAAEJ,GAAE,EAAI,MAAM,IAAIK,OAAM,uBAAuBL,EAAE,KAAK,GAAIM,GAAET,EAAEG,IAAIO,WAAYX,GAAEI,GAAG,GAAGQ,KAAKF,EAAEC,QAAQ,SAASZ,GAAG,GAAIE,GAAED,EAAEI,GAAG,GAAGL,EAAG,OAAOI,GAAEF,EAAEA,EAAEF,IAAIW,EAAEA,EAAEC,QAAQZ,EAAEC,EAAEC,EAAEC,GAAG,MAAOD,GAAEG,GAAGO,QAAkD,IAAI,GAA1CH,GAAkB,kBAATD,UAAqBA,QAAgBH,EAAE,EAAEA,EAAEF,EAAEW,OAAOT,IAAID,EAAED,EAAEE,GAAI,OAAOD,KAAKW,GAAG,SAASP,EAAQQ,GAC9aA,EAAOJ,QAAU,SAAUK,EAAKC,GAC9B,GAAIC,GAAMD,GAAkBE,QAC5B,IAAID,EAAIE,iBACNF,EAAIE,mBAAmBC,QAAUL,MAC5B,CACL,GAAIM,GAAOJ,EAAIK,qBAAqB,QAAQ,GACxCC,EAAQN,EAAIO,cAAc,QAE9BD,GAAME,KAAO,WAETF,EAAMG,WACRH,EAAMG,WAAWN,QAAUL,EAE3BQ,EAAMI,YAAYV,EAAIW,eAAeb,IAGvCM,EAAKM,YAAYJ,KAIrBT,EAAOJ,QAAQmB,MAAQ,SAASC,GAC9B,GAAIZ,SAASC,iBACXD,SAASC,iBAAiBW,OACrB,CACL,GAAIT,GAAOH,SAASI,qBAAqB,QAAQ,GAC7CS,EAAOb,SAASM,cAAc,OAElCO,GAAKC,IAAM,aACXD,EAAKE,KAAOH,EAEZT,EAAKM,YAAYI,UAIfG,GAAG,SAAS5B,EAAQQ,GAO1B,QAASqB,KACL,GAAIC,MAEAC,EAAMC,GACV,IAAID,EAGA,IAFAE,IAAMC,EAAW5B,OAEZL,EAAI,EAAOgC,IAAJhC,EAASA,IAAM,CACvB,GAAIkC,GAAMD,EAAWjC,GACjBmC,EAAQL,EAAIM,aAAc,QAAUF,EAEnCC,IAAmB,KAAVA,IACVN,EAAQK,GAAQC,GAKxBN,EAAOQ,WAAUR,EAAOS,QAAU,WAEtC,IAAIC,GAAiBC,EAAgBX,EAAOY,cAAgB,YAAeZ,EAAOY,YAAcZ,EAAOY,YAAc,IAAM,IAAO,sBAGlI,OAFAZ,GAAOa,YAAcH,EAAiB,UAE/BV,EAGX,QAASE,KACL,GAAID,GAAMnB,SAASgC,aACnB,IAAIb,EAAK,MAAOA,EAEhB,IAAI9B,GAAGgC,EACHY,EAAOjC,SAASI,qBAAsB,SAG1C,KAFAiB,EAAMY,EAAKvC,OAENL,EAAI,EAAOgC,EAAJhC,EAASA,IACjB,GAAK4C,EAAK5C,GAAG6C,IAAIC,QAAQ,eAAiBF,EAAK5C,GAAG6C,IAAIC,QAAQ,kBAC1D,MAAOF,GAAK5C,GAzCxB,GAAIiC,IAAe,UAAW,WAAY,cAAe,YAAa,SAAU,gBAAiB,kBAAmB,WAAY,QAE5HO,GACAO,MAAS,wBA2CbxC,GAAOJ,QAAUyB,OAEXoB,GAAG,SAASjD,EAAQQ,GAC1B,GAAIC,GAAM,qlZAAgnZT,GAAQ,kEAAmES,GAAMD,EAAOJ,QAAUK,IACztZyC,iEAAiE,IAAIC,GAAG,SAASnD,EAAQQ,GAM5F,QAAS4C,GAAcxC,EAAUyC,EAAeC,EAAgBxB,GAC5DyB,EAAM3C,EAAS4C,iBAAmB,mBAAqB,cACvDC,EAAS7C,EAAS4C,iBAAmB,GAAK,KAEtC1B,EAAO4B,WACPC,GAAmB,kBAGvBC,EAAaC,WAAYR,GAEzBS,EAAoBlD,EAAUyC,GAE9BU,EAAcnD,EAAUyC,EAAe,QAG3C,QAASS,GAAoBlD,EAAUyC,GACnCW,EAAgBX,EAAe,QAASY,EAAOZ,EAAea,IAC9DF,EAAgBpD,EAAU,QAASqD,EAAOZ,EAAec,IACzDH,EAAgBX,EAAe,QAASY,EAAOZ,EAAee,IAQlE,QAASA,GAAiBC,GAGtB,IAFA,GAAIC,GAASD,EAAGC,QAAUD,EAAGE,YAEpBC,EAAwBF,IAAW,CAExC,IAAMA,EAAOG,UAAU1B,QAAS,eAAkB,CAC9CuB,EAASI,MACT,OAGJJ,EAASA,EAAOK,WAGpB,GAAKL,EAAL,CAEA,GACI3C,IADQiD,EAASP,GAAKQ,iBACfP,EAAO3C,MAAQ2C,EAAOtD,qBAAqB,KAAK,GAAGW,MAE1DmD,EAAW,SACXC,EAAYC,EAAMC,KAAMX,EAAQ,cAAe,IAAMA,EACrDY,EAASH,EAAQI,aAAeJ,EAAQK,WAAaL,EAAQM,UAC7DC,EAAQC,OAAOC,SAAS7D,IAE5B,QAAQ2C,EAAOG,WACX,IAAK,eACDS,EAAS,iBAAmBO,KAAKhB,UAAU1B,QAASuB,EAAOG,UAAY,SAAY,YAAc,eACjG9C,GAAO,CACP,MAEJ,KAAK,gBACL,IAAK,cACDuD,IAAYO,KAAKhB,UAAU1B,QAASuB,EAAOG,UAAY,SAAY,YAAc,cACjF9C,GAAO,EAIf+D,EAAkBZ,EAAUI,EAAQI,EAAO,WACnC3D,IAAM4D,OAAOC,SAAS7D,KAAOA,MAIzC,QAAS6C,GAAwBF,GAC7B,GAAIqB,GAAmBrB,GACmB,OAAlCA,EAAOsB,SAASC,iBACbvB,EAAOG,UAAU1B,QAAS,WAAcuB,EAAOG,UAAU1B,QAAS,aAE7E,SAAS4C,EAMb,QAASzB,GAAcG,GAGnB,IAFA,GAAIC,GAASD,EAAGC,QAAUD,EAAGE,WAErBuB,EAAgBxB,IAAW,CAE/B,IAAMA,EAAOG,UAAU1B,QAAS,eAAkB,CAC9CuB,EAASI,MACT,OAGJJ,EAASA,EAAOK,WAGpB,GAAIoB,KAAqBzB,KAAYA,EAAOG,UAAU1B,QAAS,eAC/D,KAAIgD,EAAJ,CAEA,CAAYnB,EAASP,GAAKQ,iBAE1B,OAAQP,EAAOG,WACX,IAAK,gBACDgB,KAAKO,MAAMC,gBACX,MAEJ,KAAK,eACDR,KAAKO,MAAME,eACX,MAEJ,KAAK,cACDT,KAAKO,MAAMG,iBAKvB,QAASL,GAAgBxB,GACrB,GAAI8B,GAAU9B,KACJA,EAAOG,UAAU1B,QAAS,oBAC1BuB,EAAOG,UAAU1B,QAAS,kBAC1BuB,EAAOG,UAAU1B,QAAS,eAEpC,SAASqD,EAMb,QAASjC,GAAeE,GACpB,GAAIC,GAASD,EAAGC,QAAUD,EAAGE,UAExB8B,GAAiB/B,IAEtBmB,KAAKO,MAAMM,UAGf,QAASD,GAAiBE,GAItB,IAHA,GAAIC,IAAc,EACdlC,EAASiC,EAELjC,GAAS,CACb,GAAKA,EAAOG,YAAcH,EAAOG,UAAU1B,QAAS,eAAkB,CAClEyD,GAAc,CACd,OAGJlC,EAASA,EAAOK,WAGpB,MAAO6B,GAQX,QAASd,GAAkBZ,EAAUI,EAAQI,EAAOmB,GAChD,MAAKlB,QAAOmB,MAAoC,kBAArBnB,QAAOmB,KAAKC,KAC5BC,EAAa9B,EAAUI,EAAQI,EAAOmB,GAGvB,kBAAdlB,QAAOsB,GACRC,EAAahC,EAAUI,EAAQI,EAAOmB,QAG7CM,SAAWA,QAAQC,KAGfP,GAAIlB,OAAO0B,WAAYR,EAAI,KAIvC,QAASG,GAAa9B,EAAUI,EAAQI,EAAOmB,GAC3C,GAAIS,IAAS,cAAepC,EAAUI,EAAQI,EAE9CC,QAAOmB,KAAKC,KAAMO,GAEdT,GAAIlB,OAAO0B,WAAYR,EAAI,IAGnC,QAASK,GAAahC,EAAUI,EAAQI,EAAOmB,GAC3C,GAAIS,IACApC,SAAUA,EACVI,OAAQA,EACRI,MAAOA,EAGPmB,KAAIS,EAAKC,YAAcV,GAE3BlB,OAAOsB,GAAI,OAAQ,QAASK,GAQhC,QAASlD,GAAgBuC,EAAIlC,EAAI+C,GAC7Bb,EAAGhD,GAAME,EAASY,EAAI+C,GAAI,GAG9B,QAASrD,GAAcnD,EAAU2F,EAAIc,EAAOH,GACxC,GAAII,EAEJ,IAAK1G,EAAS2G,kBAAoB,CAI9B,GAFAD,EAAM1G,EAAS2G,oBAEXL,EACA,IAAM,GAAIM,KAAQN,GACdI,EAAIG,OAASP,EAAKO,MAI1B,OAAOlB,GAAGmB,UAAW,KAAOL,EAAOC,GAIvCA,EAAM1G,EAAS+G,YAAa,cAC5BL,EAAIM,UAAWP,GAAO,GAAM,EAAMH,GAElCX,EAAGsB,cAAeP,GAGtB,QAASrD,GAAO6D,EAASV,GACrB,MAAO,UAAU/C,GACb+C,EAAG/G,KAAMyH,EAASzD,IAI1B,QAASO,GAASyC,GACd,GAAIU,GAAmBV,EAAMW,gBACzBC,EAAkBZ,EAAMxC,cAsB5B,OApBAwC,GAAMW,gBAAkB,WAOpB,MANID,GACAA,EAAiB1H,KAAMgH,GAEvBA,EAAMa,cAAe,EAGlBb,GAGXA,EAAMxC,eAAiB,WAOnB,MANIoD,GACAA,EAAgB5H,KAAMgH,GAEtBA,EAAMc,aAAc,EAGjBd,GAGJA,EA/PX,GAGI9D,GAAKE,EAHLuB,EAAQhF,EAAQ,kBAChB4D,EAAe5D,EAAQ,mBACvB2D,EAAkB,aAmQtBnD,GAAOJ,QAAUgD,IAEdgF,kBAAkB,GAAGC,iBAAiB,KAAKC,GAAG,SAAStI,EAAQQ,GAClEA,EAAOJ,QAAU,0HACXmI,GAAG,SAASvI,EAAQQ,GAO1B,QAASgI,GAAyBnF,EAAeC,EAAgBxB,GAC7D,IAAIA,EAAO4B,SAAX,CAEAsB,EAAMyD,cAAezD,EAAM0D,OAAQC,GAAyB3D,EAAMC,KAAM3B,EAAgB,QAAS,GAEjG,IAAIsF,GAAWC,EAAkBC,EAAsC,SAAvBhH,EAAOY,aAEnD6D,EAAKvB,EAAM0D,OAAQK,EAAeC,QAAS,WAAYJ,GAE3D,IAAK9G,EAAOQ,SAAW,CACnB,GAAI2G,GAASjE,EAAMC,KAAMsB,EAAI,YAAczE,EAAOQ,UAAW,EAC7D2G,GAAOxE,UAAYwE,EAAOxE,UAAY,UAG1C,MAAO8B,IAGX,QAASsC,GAAkBK,EAAOC,GAC9B,GAAIC,KACJ,KAAM,GAAIC,KAAMH,GAAQ,CACpB,GAAIzH,GAAOyH,EAAOG,EAElBD,GAAOzC,KAAM2C,EAAcD,EAAI5H,EAAM0H,IAGzC,MAAOC,GAAOG,KAAM,IAGxB,QAASD,GAAcD,EAAI5H,EAAM0H,GAC7B,GAAIC,GAASI,EACNR,QAAS,WAAYK,GACrBL,QAAS,cAAevH,EAAK6D,OAC7B0D,QAAS,cAAevH,EAAKgI,OAC7BT,QAAS,cAAgBG,EAAS1H,EAAKiI,KAAOhF,SAAejD,EAAKE,KAEzE,OAAOyH,GAzCX,GAAIpE,GAAQhF,EAAQ,kBAChB8I,EAAgB9I,EAAQ,2BACxB+I,EAAiB/I,EAAQ,0BACzB2I,EAAwB3I,EAAQ,kCAChCwJ,EAAsBxJ,EAAQ,+BAwClCQ,GAAOJ,QAAUoI,IAEdmB,yBAAyB,EAAEC,0BAA0B,EAAEC,+BAA+B,EAAEC,iCAAiC,EAAEzB,iBAAiB,KAAK0B,GAAG,SAAS/J,EAAQQ,GACxKA,EAAOJ,QAAU,2FACX4J,GAAG,SAAShK,EAAQQ,GAC1BA,EAAOJ,SACH6J,QACItI,KAAM,yBACN2D,MAAO,kBACPmE,MAAO,mBAEXS,KACIvI,KAAM,+CACN+H,KAAM,oDACNpE,MAAO,MACPmE,MAAO,8BAEXU,MACIxI,KAAM,gDACN+H,KAAM,qDACNpE,MAAO,OACPmE,MAAO,2CAEXW,KACIzI,KAAM,yBACN+H,KAAM,8BACNpE,MAAO,MACPmE,MAAO,gCAEXY,UACI1I,KAAM,wEACN2D,MAAO,yBACPmE,MAAO,gCAITa,GAAG,SAAStK,EAAQQ,GAC1BA,EAAOJ,QAAU,yNACXmK,IAAI,SAASvK,EAAQQ,GAC3BA,EAAOJ,QAAU,wFACXoK,IAAI,SAASxK,EAAQQ,GAI3B,QAASiK,GAAuBpH,GAC5B,GAAIkD,GAAKvB,EAAMC,KAAM5B,EAAe,eAAgB,EAMpD,OAJKkD,KACDA,EAAKvB,EAAM0D,OAAQgC,IAGhBnE,EAVX,GAAIvB,GAAQhF,EAAQ,kBAChB0K,EAAe1K,EAAQ,uBAY3BQ,GAAOJ,QAAUqK,IAEdE,uBAAuB,GAAGtC,iBAAiB,KAAKuC,IAAI,SAAS5K,GA+ChE,QAAS6K,GAAkBC,EAAWhJ,GACpC,GAAIyE,GAAKvB,EAAMC,KAAM8F,EAAMD,GAAY,EAOvC,OANKvE,KACDA,EAAKvB,EAAM0D,OAAO,eAAgBoC,EAAW,QAGjDvE,EAAG9B,UAAYqG,GAAchJ,EAAO4B,SAAW,iBAAmB,IAE3D6C,EAGT,QAASyE,GAAezE,EAAI0E,EAAUC,EAAmBC,EAAYrJ,GAKjE,GAJAkD,EAAMyD,cAAewC,EAAU1E,GAC3B2E,GAAmBlG,EAAMyD,cAAeyC,EAAmB3E,GAC3D4E,GAAYnG,EAAMyD,cAAe0C,EAAY5E,GAE5CzE,EAAOS,QAAU,CAClB,GAAIkC,GAAY,QAAU3C,EAAOS,QAC7B0G,EAASjE,EAAMC,KAAMsB,EAAI9B,GAAY,EACzCwE,GAAOxE,WAAa,UACpB8B,EAAG9B,WAAa,IAAMA,EAAY,QAItCO,EAAMoG,eAAgB/H,EAAe0H,GArEzC/K,EAAQ,eAGR,IAAIgF,GAAQhF,EAAQ,kBAChB+K,EAAOnK,SAASmK,KAEhBjJ,EAAS9B,EAAQ,wBAGjBqD,EAAgBwH,EAAkB,cAAe/I,GAGjDwB,EAAiBtD,EAAQ,qBAAsBqD,EAAevB,GAG9DuJ,EAAkBrL,EAAQ,qBAAsBqD,EAAeC,EAAgBxB,EAGnF9B,GAAQ,oBAAqBqD,EAAeC,EAAgBxB,EAG5D,EAAA,GAAIwJ,GAAgBtL,EAAQ,mBAAoBqD,EAG5BrD,GAAQ,mBAAoBsL,EAAehI,EAAgBxB,GAQ/EkJ,EAAe3H,EAAeC,EAAgB+H,EAAiBC,EAAexJ,GAG9E9B,EAAQ,mBAAoBY,SAAUyC,EAAeC,EAAgBxB,KAqClEyJ,qBAAqB,EAAEC,eAAe,EAAEC,kBAAkB,EAAEC,oBAAoB,EAAEC,kBAAkB,GAAGC,mBAAmB,GAAGC,kBAAkB,GAAGC,oBAAoB,GAAGzD,iBAAiB,KAAK0D,IAAI,SAAS/L,EAAQQ,GACvNA,EAAOJ,QAAU,wHACX4L,IAAI,SAAShM,EAAQQ,GAO3B,QAASyL,GAAwB5I,EAAeC,EAAgBxB,GACrC,SAAnBA,EAAOoK,UAEXlH,EAAMyD,cAAezD,EAAM0D,OAAQyD,GAAwBnH,EAAMC,KAAM3B,EAAgB,QAAS,IAEhG8I,EAAIC,IAAKvK,EAAOa,YAAa,SAAUuE,GACnC,MAAKA,OAELoF,GAAoBjJ,EAAe6D,GAFjBqF,eAAgBlJ,MAM1C,QAASiJ,GAAoB/F,EAAI2F,GAC7B,MAAIA,GAAQM,aACDC,EAAiBlG,EAAI2F,OAGhCQ,GAAmBnG,EAAI2F,GAG3B,QAASO,GAAiBlG,EAAI2F,GAC1B,GAAIS,GAAa3H,EAAMC,KAAMsB,EAAI,gBAAiB,GAC9CqG,EAAcD,EAAW3L,qBAAqB,KAAK,EAEvD4L,GAAYC,aAAc,QAASX,EAAQM,cACvCN,EAAQY,WAAaZ,EAAQY,UAAUxM,SACvCsM,EAAYvH,UAAY,aAAc6G,EAAQY,UAAW,gCAG7D,IAAIlE,GAAWC,EAAkBqD,EAAQhD,OACrC6D,EAAO/H,EAAM0D,OAAQsE,EAAchE,QAAS,WAAYJ,GAE5D5D,GAAMiI,oBAAqBF,EAAMxG,EAAG2G,WAGxC,QAASR,GAAmBnG,EAAI2F,GAC5B,GAAIa,GAAO/H,EAAMC,KAAMsB,EAAI,gBAAiB,GACxCqG,EAAcG,EAAK/L,qBAAqB,KAAK,EAEjD+L,GAAKtI,UAAY,iBACjBmI,EAAYjL,KAAOuK,EAAQhD,MAAO,WAClC0D,EAAYvH,UAAY,UAG5B,QAASwD,GAAkBK,GACvB,GAAIE,KACJ,KAAM,GAAI9D,KAAS4D,GAAQ,CACvB,GAAIvH,GAAOuH,EAAO5D,EAElB8D,GAAOzC,KAAM2C,EAAchE,EAAO3D,IAGtC,MAAOyH,GAAOG,KAAM,IAGxB,QAASD,GAAchE,EAAO3D,GAC1B,GAAIyH,GAAS+D,EACRnE,QAAS,cAAe1D,GACxB0D,QAAS,aAAcrH,EAE5B,OAAOyH,GAlEX,GAAIpE,GAAQhF,EAAQ,kBAChBoM,EAAMpM,EAAQ,gBACdgN,EAAgBhN,EAAQ,yBACxBmM,EAAuBnM,EAAQ,iCAC/BmN,EAAqBnN,EAAQ,8BAiEjCQ,GAAOJ,QAAU6L,IAEdmB,wBAAwB,GAAGC,8BAA8B,GAAGC,gCAAgC,GAAGjF,iBAAiB,GAAGkF,eAAe,KAAKC,IAAI,SAASxN,EAAQQ,GAC/JA,EAAOJ,QAAU,iDACXqN,IAAI,SAASzN,EAAQQ,GAC3BA,EAAOJ,QAAU,sGACXsN,IAAI,SAAS1N,EAAQQ,GAC3BA,EAAOJ,QAAU,iaACXuN,IAAI,SAAS3N,EAAQQ,GAK3B,QAASoN,GAAuBtC,EAAehI,EAAgBxB,GAC3D,GAAKA,EAAOmI,OAAZ,CAEAjF,EAAMyD,cAAezD,EAAM0D,OAAQmF,GAAuB7I,EAAMC,KAAM3B,EAAgB,QAAS,GAE/F,IAAIwK,GAAOC,EAAa/E,QAAQ,aAAc,QACzCA,QAAQ,aAAclH,EAAOmI,QAC7BjB,QAAQ,oBAAqBlH,EAAOkM,eACpChF,QAAQ,sBAAuBlH,EAAOmM,iBAEvCC,EAAgBlJ,EAAM0D,OAAQoF,EAIlC,OAFAK,GAAmB7C,EAAe4C,GAE3BA,GAGX,QAASC,GAAmB5H,EAAI6H,GAC5B,GAAIrB,GAAO/H,EAAMC,KAAMsB,EAAI,QAAS,EAEpC,OAAIwG,GACO/H,EAAMiI,oBAAqBmB,EAAYrB,OAGpD/H,GAAMyD,cAAe2F,EAAY7H,EAAG8H,YA5BtC,GAAIrJ,GAAQhF,EAAQ,kBAChB+N,EAAe/N,EAAQ,wBACvB6N,EAAsB7N,EAAQ,+BA6BlCQ,GAAOJ,QAAUwN,IAEdU,uBAAuB,GAAGC,+BAA+B,GAAGlG,iBAAiB,KAAKmG,IAAI,SAASxO,EAAQQ,GAC1GA,EAAOJ,QAAU,wMACXqO,IAAI,SAASzO,EAAQQ,GAC3BA,EAAOJ,QAAU,sNACXsO,IAAI,SAAS1O,EAAQQ,GAM3B,QAASmO,GAAwBtL,EAAevB,GAC5C8M,EAASvL,EAET,IAAI0J,GAAO,EAKX,OAJKjL,GAAO4B,WACRqJ,EAAOlE,EAAkBgG,EAAqC,SAAvB/M,EAAOY,cAG3CoM,EAAoB/B,EAAMjL,GAGrC,QAASgN,GAAoB/B,EAAMjL,GAC/B,GAAImJ,GAAW8D,EACN/F,QAAS,WAAY+D,GACrB/D,QAAS,eAAgBlH,EAAOkN,MAAQ,0BAE7CzI,EAAKvB,EAAM0D,OAAQuC,EAMvB,OAJInJ,GAAO4B,WACPsB,EAAMC,KAAMsB,EAAI,QAAQ,GAAGvF,qBAAsB,SAAU,GAAGqE,UAAYvD,EAAO4B,UAG9E6C,EAGX,QAASsC,GAAkBK,EAAOC,GAC9B,GAAIC,KACJ,KAAM,GAAIC,KAAMH,GAAQ,CACpB,GAAIzH,GAAOyH,EAAMG,EAEjBD,GAAOzC,KAAM2C,EAAcD,EAAI5H,EAAM0H,IAGzC,MAAOC,GAAOG,KAAM,IAGxB,QAASD,GAAcD,EAAI5H,EAAM0H,GAC7B,GAAIC,GAAS6F,EACNjG,QAAS,WAAYK,GACrBL,QAAS,cAAevH,EAAK6D,OAC7B0D,QAAS,cAAevH,EAAKgI,OAC7BT,QAAS,cAAgBG,EAAS1H,EAAKiI,KAAOhF,SAAejD,EAAKE,KAEzE,OAAOyH,GAGX,QAASwF,GAASvL,GACd,GAAI6L,GAAalK,EAAMC,KAAM5B,EAAe,iBAAkB,EAE1D6L,IACAA,EAAWvK,WAAWwK,YAAaD,GAvD3C,GAAIlK,GAAQhF,EAAQ,kBAChB6O,EAAe7O,EAAQ,2BACvB+O,EAAiB/O,EAAQ,0BACzBiP,EAAsBjP,EAAQ,+BAwDlCQ,GAAOJ,QAAUuO,IAEdS,yBAAyB,GAAGC,0BAA0B,GAAGC,+BAA+B,GAAGjH,iBAAiB,KAAKkH,IAAI,SAASvP,EAAQQ,GACzIA,EAAOJ,QAAU,uMACXoP,IAAI,SAASxP,EAAQQ,GAC3BA,EAAOJ,SACHqP,UACI9N,KAAM,8BACN2D,MAAO,iBAEXoK,UACI/N,KAAM,8BACN2D,MAAO,YAEXqK,WACIhO,KAAM,8CACN2D,MAAO,uCAITsK,IAAI,SAAS5P,EAAQQ,GAE3B,QAASqP,GAActJ,GACnBd,KAAKqK,QAAUvJ,EACfd,KAAKqF,UAAYvE,EAAG9B,UAEpBgB,KAAKyB,MACD5E,UAAU,EACV4J,SAAS,EACTjC,QAAQ,GAGZ1D,EAAGP,MAAQP,KAGfoK,EAAaE,WAETC,YAAa,WACT,GAAIlF,GAAYrF,KAAKqF,WACfrF,KAAKyB,KAAK5E,SAAW,sBAAwB,KAC7CmD,KAAKyB,KAAKgF,QAAU,qBAAuB,KAC3CzG,KAAKyB,KAAK+C,OAAS,oBAAsB,GAE/CxE,MAAKqK,QAAQrL,UAAYqG,GAG7B7E,eAAgB,WACZR,KAAKyB,KAAK5E,UAAYmD,KAAKyB,KAAK5E,SAC5BmD,KAAKyB,KAAK5E,WACVmD,KAAKyB,KAAKgF,SAAU,EACpBzG,KAAKyB,KAAK+C,QAAS,GAEvBxE,KAAKuK,eAGT9J,cAAe,WACXT,KAAKyB,KAAKgF,SAAWzG,KAAKyB,KAAKgF,QAC3BzG,KAAKyB,KAAKgF,UACVzG,KAAKyB,KAAK+C,QAAS,EACnBxE,KAAKyB,KAAK5E,UAAW,GAEzBmD,KAAKuK,eAGT7J,aAAc,WACVV,KAAKyB,KAAK+C,QAAUxE,KAAKyB,KAAK+C,OAC1BxE,KAAKyB,KAAK+C,SACVxE,KAAKyB,KAAKgF,SAAU,EACpBzG,KAAKyB,KAAK5E,UAAW,GAEzBmD,KAAKuK,eAGT1J,QAAS,WACLb,KAAKyB,KAAKgF,SAAU,EACpBzG,KAAKuK,gBAKbxP,EAAOJ,SACHyD,WAAY,SAAU0C,GAClB,GAAIsJ,GAActJ,UAIpB0J,IAAI,SAASjQ,EAAQQ,GAC3B,GAAIwE,KAEJA,GAAMC,KAAO,SAAUiL,EAAMjG,GAMzB,QAASkG,GAA8BD,EAAMjG,GACzC,MAAOiG,GAAKE,uBAAuBnG,GAGvC,QAASoG,GAA+BH,EAAMjG,GAC1C,GAAcqG,GAAUC,EAAStQ,EAA7BuQ,EAAIN,EAA4BO,IAEpC,IAAIP,EAAKQ,iBACL,MAAOR,GAAKQ,iBAAiB,IAAMzG,EAGvC,IAAIiG,EAAKS,SAIL,IAHAJ,EAAU,6CAA+CtG,EAAS,OAClEqG,EAAWJ,EAAKS,SAASJ,EAASC,EAAG,KAAM,EAAG,MAEtCvQ,EAAIqQ,EAASM,eACjBH,EAAQ9J,KAAK1G,OAEd,CACHqQ,EAAWJ,EAAKlP,qBAAqB,KACrCuP,EAAU,GAAIM,QAAO,UAAY5G,EAAS,UAE1C,IAAIhI,GAAMqO,EAAShQ,MACnB,KAAKL,EAAI,EAAOgC,EAAJhC,EAASA,IACZsQ,EAAQO,KAAKR,EAASrQ,GAAGwE,YAC1BgM,EAAQ9J,KAAK2J,EAASrQ,IAKlC,MAAOwQ,GAnCX,GAAIxL,GAAOrE,SAASwP,uBAAyBD,EAA+BE,CAG5E,OAFArL,GAAMC,KAAOA,EAENA,EAAMiL,EAAMjG,IAoCvBjF,EAAM0D,OAAS,SAAUqI,GACrB,KAAMA,EAAKhO,QAAQ,KACf,MAAOnC,UAASM,cAAe6P,EAGnC,IAAIC,GAAUpQ,SAASM,cAAc,MAIrC,OAFA8P,GAAQ3L,UAAY0L,EAEbC,EAAQ3C,YAGnBrJ,EAAMoG,eAAiB,SAAU0E,EAASmB,GACtCA,EAAOC,aAAcpB,EAASmB,EAAO5C,aAGzCrJ,EAAMiI,oBAAsB,SAAU6C,EAASqB,GAC3C,GAAIF,GAASE,EAAQxM,UAErBsM,GAAOC,aAAcpB,EAASqB,IAGlCnM,EAAMyD,cAAgB,SAAUqH,EAASmB,GACrCA,EAAO5P,YAAayO,IAGxBtP,EAAOJ,QAAU4E,OAEXoM,IAAI,SAASpR,EAAQQ,GAC3B,GAAI4L,KAEJA,GAAIC,IAAM,SAAU7K,EAAK6P,GACrB,GAAItQ,GAAOH,SAASI,qBAAqB,QAAQ,IAAMJ,SAAS0Q,gBAC5DC,EAAS3Q,SAASM,cAAc,SACpCqQ,GAAOzO,IAAMtB,EAAM,IAAMgQ,KAAKC,MAAsB,KAAhBD,KAAKE,SAGzC,IAAIC,IAAO,CAGXJ,GAAOK,OAASL,EAAOM,mBAAqB,WAClCF,GAAUlM,KAAKqM,YAAkC,WAApBrM,KAAKqM,YAA+C,aAApBrM,KAAKqM,aACpEH,GAAO,EACPN,EAAS9L,OAAOwM,KAGhBR,EAAOK,OAASL,EAAOM,mBAAqB,KACvC9Q,GAAQwQ,EAAO5M,YAChB5D,EAAKoO,YAAaoC,KAO9BxQ,EAAKmQ,aAAcK,EAAQxQ,EAAKsN,aAGpC7N,EAAOJ,QAAUgM,YAEN"}