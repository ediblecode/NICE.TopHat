{"version":3,"file":"tophat.js","sources":["tophat.dev.js"],"names":["e","t","n","r","s","o","u","a","require","i","Error","f","exports","call","length",1,"module","css","customDocument","doc","document","createStyleSheet","cssText","head","getElementsByTagName","style","createElement","type","styleSheet","appendChild","createTextNode","byUrl","url","link","rel","href",2,"/Users/matt/Documents/branches/NICE.Tophat/node_modules/cssify",3,"attachTophatEvents","tophatElement","serviceElement","add","addEventListener","prefix","this","activeElement","utils","find","proxy","clickhandler","cancelhandler","ev","target","srcElement","validateTarget","className","indexOf","undefined","parentNode","mustIgnoreEvent","elementAlreadyActive","enhance","preventDefault","updateStates","tophatEvent","replace","context","fn","isValid","event","_stopPropagation","stopPropagation","_preventDefault","cancelBubble","returnValue","./tophat.utils",4,5,"generateEvidenceElement","config","linklist","generateLinkList","evidenceLinks","environment","el","create","tophatEvidence","evidence","active","links","output","id","push","generateLink","join","isBeta","tophatEvidenceLinks","label","title","beta","./tophat.evidence.html","./tophat.evidence.links","./tophat.evidence.links.html",6,7,"bnf","bnfc","cks","journals","search",8,9,"generateGlobalElement","tophatGlobal","./tophat.global.html",10,"getTophatConfig","attributes","tag","getTophatScriptTag","len","key","value","getAttribute","service","currentScript","tags","src","getTophatElement","classname","body","constructTophat","services","evidenceResources","globalMenu","appendElement","addSearchToGlobal","searchForm","menu","insertBeforeElement","firstChild","prependElement","element","parent","insertBefore","sibling","evidenceElement","globalElement","searchElement","./tophat.css","./tophat.events","./tophat.evidence","./tophat.global","./tophat.search","./tophat.services",11,12,"generateSearchElement","tophatSearch","./tophat.search.html",13,14,"generateServiceElement","cleanUp","serviceLinks","tophatServices","tophatServicesLinks","oldElement","removeChild","./tophat.services.html","./tophat.services.links","./tophat.services.links.html",15,16,"pathways","guidance","standards",17,"root","nativeGetElementsByClassName","getElementsByClassName","polyfilGetElementsByClassName","elements","pattern","d","results","querySelectorAll","evaluate","iterateNext","RegExp","test","html","wrapper","innerHTML"],"mappings":"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"}